window.ymq_option.hideByNow=!1,window.ymq_option.cancelAjaxCart=!1,window.ymq_option.plugs=[],window.ymq_option.isDawn=!1;try{887==Number(Shopify.theme.theme_store_id)&&(window.ymq_option.isDawn=!0,window.ymq_option.hideByNow=!0,window.ymq_option.cancelAjaxCart=!0,window.ymq_option.ymq_option_branding.extra.hasOwnProperty("theme-variant-class")&&""!=window.ymq_option.ymq_option_branding.extra["theme-variant-class"]&&ymqJq(window.ymq_option.ymq_option_branding.extra["theme-variant-class"]).length>0||(window.ymq_option.ymq_option_branding.extra["theme-variant-class"]=".product-form__input--dropdown,.js.product-form__input"),window.ymq_option.ymq_option_branding.extra.hasOwnProperty("trigger-option-dom")&&""!=window.ymq_option.ymq_option_branding.extra["trigger-option-dom"]||(window.ymq_option.ymq_option_branding.extra["trigger-option-dom"]=".js.product-form__input:eq(ymq1) label:eq(ymq2),.product-form__input--dropdown:eq(ymq1) .select__select option:eq(ymq2)"),window.ymq_option.ymq_option_branding.extra.hasOwnProperty("theme-variant-class-no")&&""!=window.ymq_option.ymq_option_branding.extra["theme-variant-class-no"]&&ymqJq(window.ymq_option.ymq_option_branding.extra["theme-variant-class-no"]).length>0||(window.ymq_option.ymq_option_branding.extra["theme-variant-class-no"]='#product-form-installment input[name="id"]'))}catch(t){window.ymq_option.isDawn=!1,window.ymq_option.hideByNow=!0,window.ymq_option.cancelAjaxCart=!0}function ymqDoForEachData(t){Object.keys(t).forEach((function(i){var e=t[i];[9,10].includes(Number(e.type))&&-1==Number(ymqJq.inArray("jedate",window.ymq_option.plugs))&&(window.ymq_option.plugs.push("jedate"),ymqJq("<link>").attr({rel:"stylesheet",type:"text/css",href:`${window.ymq_option.baseUrl}css/jedate.css`}).appendTo("head")),[14].includes(Number(e.type))&&-1==Number(ymqJq.inArray("colpick",window.ymq_option.plugs))&&(window.ymq_option.plugs.push("colpick"),ymqJq("<link>").attr({rel:"stylesheet",type:"text/css",href:`${window.ymq_option.baseUrl}css/colpick.css`}).appendTo("head")),[12].includes(Number(e.type))&&e.hasOwnProperty("cropped_type")&&Number(e.cropped_type)>0&&-1==Number(ymqJq.inArray("cropper",window.ymq_option.plugs))&&(window.ymq_option.plugs.push("ymqmodal"),window.ymq_option.plugs.push("cropper"),ymqJq("<link>").attr({rel:"stylesheet",type:"text/css",href:`${window.ymq_option.baseUrl}css/cropper.css`}).appendTo("head")),0!=window.ymq_option.hideByNow&&0!=window.ymq_option.cancelAjaxCart||([12,6,7,8,16,21].includes(Number(e.type))&&(console.log(1,e),window.ymq_option.hideByNow=!0,window.ymq_option.cancelAjaxCart=!0),e.hasOwnProperty("qty_input")&&1==Number(e.qty_input)||e.hasOwnProperty("is_get_to_cart")&&Number(0==e.is_get_to_cart)?(console.log(1.1,e),window.ymq_option.hideByNow=!0,window.ymq_option.cancelAjaxCart=!0):[18,19].includes(Number(e.type))&&window.ymq_option.ymq_option_branding.extra.plan>2?(console.log(2,e),window.ymq_option.hideByNow=!0,window.ymq_option.cancelAjaxCart=!0):[3,4,5,6,7,8,15,16,20,21].includes(Number(e.type))?Object.keys(e.options).forEach((function(t){var i=e.options[t];i.hasOwnProperty("price")&&(Number(i.price)>0||Number(i.price)<0)&&(console.log(3,e),window.ymq_option.hideByNow=!0,window.ymq_option.cancelAjaxCart=!0),window.ymq_option.ymq_option_branding.extra.plan>1&&(i.hasOwnProperty("weight")&&Number(i.weight)>0&&(console.log(4,e),window.ymq_option.hideByNow=!0),i.hasOwnProperty("sku")&&null!=i.sku&&""!=i.sku&&(console.log(5,e),window.ymq_option.hideByNow=!0))})):(e.hasOwnProperty("price")&&(Number(e.price)>0||Number(e.price)<0)&&(console.log(6,e),window.ymq_option.hideByNow=!0,window.ymq_option.cancelAjaxCart=!0),window.ymq_option.ymq_option_branding.extra.plan>1&&(e.hasOwnProperty("weight")&&Number(e.weight)>0&&(console.log(7,e),window.ymq_option.hideByNow=!0),e.hasOwnProperty("sku")&&null!=e.sku&&""!=e.sku&&(console.log(8,e),window.ymq_option.hideByNow=!0))))}))}function ymqForEachData(){ymqDoForEachData(window.ymq_option.ymq_option_data),Object.keys(window.ymq_option.ymq_option_template).forEach((function(t){ymqDoForEachData(window.ymq_option.ymq_option_template[t])}))}function ymqForEachConditionData(){0==window.ymq_option.hideByNow&&(ymqDoForEachConditionData(window.ymq_option.ymq_option_condition),Object.keys(window.ymq_option.ymq_option_template_condition).forEach((function(t){ymqDoForEachConditionData(window.ymq_option.ymq_option_template_condition[t],t)})))}function ymqDoForEachConditionData(t,i=""){0==window.ymq_option.hideByNow&&Object.keys(t).forEach((function(t){if(""!=i)var e=window.ymq_option.ymq_option_template[i]["ymq"+t.split("_")[0]].type;else e=window.ymq_option.ymq_option_data["ymq"+t.split("_")[0]].type;[11,17].includes(Number(e))||(window.ymq_option.hideByNow=!0,console.log("condition disabled buy"+e,window.ymq_option.hideByNow))}))}if("product"==window.ymq_option.page)try{ymqForEachData(),ymqForEachConditionData()}catch(t){window.ymq_option.plugs=["jedate","colpick","cropper","ymqmodal"]}window.ymqAdmin&&(window.ymq_option.plugs=["jedate","colpick","cropper","ymqmodal"],ymqJq("<link>").attr({rel:"stylesheet",type:"text/css",href:`${window.ymq_option.baseUrl}css/colpick.css`}).appendTo("head"),ymqJq("<link>").attr({rel:"stylesheet",type:"text/css",href:`${window.ymq_option.baseUrl}css/jedate.css`}).appendTo("head"),ymqJq("<link>").attr({rel:"stylesheet",type:"text/css",href:`${window.ymq_option.baseUrl}css/cropper.css`}).appendTo("head")),console.log(window.ymq_option.plugs,window.ymq_option.hideByNow,window.ymq_option.cancelAjaxCart),ymq_define("Options",window.ymq_option.plugs,(function(){function justTools(t,i){this.elem=t,this.set=i}ymqJq.fn.dropdown=function(t){t=ymqJq.extend({variantChange:function(t){}},t);this.each((function(){var i=ymqJq(this);if(i.hasClass("ymq-no-strong-drop-down"))return!1;var e={},n={},o={},a=i.hasClass("ymq-shopify-option");if(i.hasClass("ymq-inited")){var r=i.hasClass("ymq-multiple"),m=i.parents(".selectDropdown"),c=i.next().next();d(i.parent().attr("class"))}else{r=i.hasClass("ymq-multiple");var s=ymqJq("<div />").addClass("ymq-dropdown selectDropdown "+(r?"multiple":""));i.wrap(s);c=ymqJq("<span />").text(ymqJq(this).attr("placeholder")).insertAfter(ymqJq(this));var l=ymqJq('<ul class="ymq-multiple-ul"></ul>');i.find("option").each((function(t){l.append(ymqJq(`<li data-index="${t}" data-title="${ymqJq(this).data("title")}" class="ymq-multiple-li ${ymqJq(this).prop("disabled")?"disabled":""} ${ymqJq(this).prop("selected")?"active":""}"></li>`).append(ymqJq("<a />").html(ymqJq(this).html())))})),l.insertAfter(ymqJq(this));m=i.parents(".selectDropdown");d(),i.addClass("ymq-inited"),i.next().next().on("click touch",(function(t){var e=!1;return i.parent().hasClass("open")&&(e=!0),ymqJq(".ymq-dropdown").removeClass("open"),e||i.parent().addClass("open"),t.preventDefault(),!1})),m.find("ul li a").on("click touch",(function(e){var n=ymqJq(this);if(n.parent("li").hasClass("disabled"))return e.preventDefault(),!1;var o=ymqJq(this).parents(".selectDropdown"),r=o.find(".ymq-dropdown"),m=i.hasClass("ymq-multiple"),c=ymqJq(this).parent().hasClass("active"),s=ymqJq(this).parent().data("index");return m?(n.parents(".ymq-multiple-li").toggleClass("active"),i.find("option").eq(n.parents(".ymq-multiple-li").data("index")).prop("selected",n.parents(".ymq-multiple-li").hasClass("active")),d()):(c&&!a?o.find("option").prop("selected",!1):(o.find("option").prop("selected",!1),o.find("option").eq(s).prop("selected",!0)),d()),r.trigger("change"),t.variantChange(i),m?(e.preventDefault(),!1):void 0}))}function d(t=""){e={},n={},o={},i.find("option").each((function(t){ymqJq(this).prop("selected")&&!ymqJq(this).prop("disabled")&&(e[t]={value:ymqJq(this).val(),text:ymqJq(this).html()}),ymqJq(this).prop("disabled")&&(n[t]={value:ymqJq(this).val(),text:ymqJq(this).html()}),"none"==ymqJq(this).css("display")&&(o[t]={value:ymqJq(this).val(),text:ymqJq(this).html()})}));var a="";m.find(".ymq-multiple-li").removeClass("active").removeClass("disabled").show(),Object.keys(e).forEach((function(t){var i=e[t];r?a+=`<span class="ymq-multiple-item-box"><span class="ymq-multiple-item"><span class="ymq-multiple-text">${i.text}</span> <span data-index="${t}" class="ymq-multiple-remove"></span></span></span></span>`:a=i.text,m.find(".ymq-multiple-li").eq(t).addClass("active")})),Object.keys(n).forEach((function(t){n[t];m.find(".ymq-multiple-li").eq(t).addClass("disabled")})),Object.keys(o).forEach((function(t){o[t];m.find(".ymq-multiple-li").eq(t).hide()})),""==a&&(a=i.attr("placeholder")),c.html(a),m.find(".ymq-multiple-remove").on("click touch",(function(t){return i.find("option").eq(ymqJq(this).data("index")).prop("selected",!1),i.trigger("change"),d(),t.preventDefault(),!1}))}}))},ymqJq(document).on("click touch",(function(t){ymqJq(".ymq-dropdown").removeClass("open")})),justTools.prototype={addAnimation:function(){switch(this.set.animation){case"none":break;case"fadeIn":this.obj.addClass("animated fadeIn");break;case"flipIn":switch(this.set.gravity){case"top":this.obj.addClass("animated flipInTop");break;case"bottom":this.obj.addClass("animated flipInBottom");break;case"left":this.obj.addClass("animated flipInLeft");break;case"right":this.obj.addClass("animated flipInRight")}break;case"moveInLeft":this.obj.addClass("animated moveLeft");break;case"moveInTop":this.obj.addClass("animated moveTop");break;case"moveInBottom":this.obj.addClass("animated moveBottom");break;case"moveInRight":this.obj.addClass("animated moveRight")}},close:function(){this.obj.remove(),this.elem.removeAttr("just-open")},setPosition:function(){if(""!=this.set.contents){var t={},i={x:this.elem.offset().left,y:this.elem.offset().top},e={w:this.elem.outerWidth(),h:this.elem.outerHeight()},n=i.x+e.w/2+this.obj.outerWidth()/2,o=i.x+e.w/2-this.obj.outerWidth()/2;switch(this.set.gravity){case"top":n>ymqJq(window).width()?(t={x:i.x+e.w-this.obj.outerWidth(),y:i.y-this.obj.outerHeight()-this.set.distance},this.obj.find(".just-"+this.set.gravity).css("left",this.obj.outerWidth()-e.w/2+"px")):o<0?(t={x:i.x,y:i.y-this.obj.outerHeight()-this.set.distance},this.obj.find(".just-"+this.set.gravity).css("left",e.w/2+"px")):t={x:i.x-(this.obj.outerWidth()-e.w)/2,y:i.y-this.obj.outerHeight()-this.set.distance};break;case"bottom":n>ymqJq(window).width()?(t={x:i.x+e.w-this.obj.outerWidth(),y:i.y+e.h+this.set.distance},this.obj.find(".just-"+this.set.gravity).css("left",this.obj.outerWidth()-e.w/2+"px")):o<0?(t={x:i.x,y:i.y+e.h+this.set.distance},this.obj.find(".just-"+this.set.gravity).css("left",e.w/2+"px")):t={x:i.x-(this.obj.outerWidth()-e.w)/2,y:i.y+e.h+this.set.distance};break;case"left":t={x:i.x-this.obj.outerWidth()-this.set.distance,y:i.y-(this.obj.outerHeight()-e.h)/2};break;case"right":t={x:i.x+e.w+this.set.distance,y:i.y-(this.obj.outerHeight()-e.h)/2}}this.obj.css({left:t.x+"px",top:t.y+"px"})}},setEvent:function(){var t=this;"click"!=t.set.events&&"onclick"!=t.set.events||t.obj.one("click",(function(t){})),"mouseover"!=t.set.events&&"onmouseover"!=t.set.events&&"mouseenter"!=t.set.events||this.elem.one("mouseout, mouseleave",(function(){t.close()})).one("click",(function(t){}))},setConfirmEvents:function(){var t=this,i=this.obj.find(".just-yes"),e=this.obj.find(".just-no");i.click((function(){1==t.set.onYes(t)&&t.close()})),e.click((function(){t.close(),t.set.onNo(t)}))},addConfirm:function(){this.obj.append("<div class='just-confirm'><button type='button' class='just-yes'>"+this.set.yes+"</button><button type='button' class='just-no'>"+this.set.no+"</button></div>"),this.setConfirmEvents()},setContent:function(){""!=this.set.contents&&(this.obj=ymqJq("<div class='just-tooltip "+this.set.theme+"'style='width:"+this.set.width+"'><div class='just-con'>"+this.set.contents+"</div><span class='just-"+this.set.gravity+"'></span></div>"),1==this.set.confirm&&this.addConfirm(),ymqJq("body").append(this.obj),this.setEvent(),this.addAnimation())},getEvent:function(){if(window.event)return window.event;for(var t=this.getEvent.caller;null!=t;){var i=t.arguments[0];if(i&&(console.log(i.constructor),i.constructor==Event||i.constructor==MouseEvent||"object"==typeof i&&i.preventDefault&&i.stopPropagation))return i;t=t.caller}return null},destroy:function(){ymqJq("div[just-open]").removeAttr("just-open"),ymqJq(".just-tooltip").remove()},init:function(){var t=this,i=t.getEvent();t.set.events=i.type,i.preventDefault(),i.stopPropagation(),$document=ymqJq(document),"click"!=t.set.events&&"onclick"!=t.set.events||(t.destroy(),$document.one("click",(function(i){t.destroy()}))),t.setContent(),t.setPosition(),$document.one("resize",(function(){t.setPosition()}))}},ymqJq.fn.justToolsTip=function(t){if(!this.attr("just-open")){this.attr("just-open","show");var i={id:(new Date).getTime(),height:"auto",width:"auto",contents:"",gravity:"top",theme:"",distance:10,animation:"none",confirm:!1,yes:"确定",no:"取消",onYes:function(){},onNo:function(){}};this.each((function(e){t=ymqJq.extend(i,t),new justTools(ymqJq(this),t).init()}))}},ymqJq(document).on("click","[data-ymq-id]",(function(t){t.preventDefault();var i=ymqJq(this).attr("data-ymq-id");ymqJq("#"+i).ymq(ymqJq(this).data())})),ymqJq.fn.ymq=function(t){t=ymqJq.extend({},{animation:"fade",animationspeed:300,closeonbackgroundclick:!0,dismissmodalclass:"close-ymq-modal"},t);return this.each((function(){var i=ymqJq(this),e=parseInt(i.css("top")),n=i.height()+e,o=!1,a=ymqJq(".ymq-modal-bg");0==a.length&&(a=ymqJq('<div class="ymq-modal-bg" />').insertAfter(i)),i.bind("ymq:open",(function(){if(a.unbind("click.modalEvent"),ymqJq("."+t.dismissmodalclass).unbind("click.modalEvent"),!o){if(m(),"fadeAndPop"==t.animation&&(i.css({top:ymqJq(document).scrollTop()-n,opacity:0,visibility:"visible"}),a.fadeIn(t.animationspeed/2),i.delay(t.animationspeed/2).animate({top:ymqJq(document).scrollTop()+e+"px",opacity:1},t.animationspeed,r())),"fade"==t.animation){if(i.height()+100>ymqJq(window).height())var c=50;else if(i.height()>300)c=(ymqJq(window).height()-i.height())/2;else c=150;i.css({opacity:0,visibility:"visible",top:c,width:i.data("width"),"margin-left":-Number(i.data("width"))/2}),a.fadeIn(t.animationspeed/2),i.delay(t.animationspeed/2).animate({opacity:1},t.animationspeed,r())}"none"==t.animation&&(i.css({visibility:"visible",top:ymqJq(document).scrollTop()+e}),a.css({display:"block"}),r())}i.unbind("ymq:open")})),i.bind("ymq:close",(function(){o||(m(),"fadeAndPop"==t.animation&&(a.delay(t.animationspeed).fadeOut(t.animationspeed),i.animate({top:ymqJq(document).scrollTop()-n+"px",opacity:0},t.animationspeed/2,(function(){i.css({top:e,opacity:1,visibility:"hidden"}),r()}))),"fade"==t.animation&&(a.delay(t.animationspeed).fadeOut(t.animationspeed),i.animate({opacity:0},t.animationspeed,(function(){i.css({opacity:1,visibility:"hidden",top:e}),r()}))),"none"==t.animation&&(i.css({visibility:"hidden",top:e}),a.css({display:"none"}))),i.unbind("ymq:close")})),i.trigger("ymq:open");ymqJq("."+t.dismissmodalclass).bind("click.modalEvent",(function(){i.trigger("ymq:close")}));function r(){o=!1}function m(){o=!0}t.closeonbackgroundclick&&(a.css({cursor:"pointer"}),a.bind("click.modalEvent",(function(){i.trigger("ymq:close")}))),ymqJq("body").keyup((function(t){27===t.which&&i.trigger("ymq:close")}))}))};let Cart=class t{constructor(){var t=this;this.instance=null,t.initConfig(),1==t.config.util.getValue(t.config.ymq_option_branding.extra,"cart-page-show",1)&&this.init()}initConfig(){var t=this;if(t.config=Config.getInstance("cartInstance",t),t.config.money_format=window.ymq_option.ymq_option_branding.lan.currency,t.config.shop=window.ymq_option.shop,t.config.token=window.ymq_option.token,t.config.timestamp=window.ymq_option.timestamp,t.config.customer_id=window.ymq_option.customer_id,t.config.ymq_option_settings=window.ymq_option.ymq_option_settings,t.config.ymq_option_branding=window.ymq_option.ymq_option_branding,t.config.addedCartEvent=!0,ymqJq('form[action="/cart"]').length>=1)t.config.cart_form_class='form[action="/cart"]';else if(ymqJq('form[action$="/cart"]').length>=1){var i=ymqJq('form[action$="/cart"]').attr("action");t.config.cart_form_class=`form[action="${i}"]`}else t.config.cart_form_class='form[action="/checkout"]'}initMemberVariables(){this.cartJson=window.ymq_option.cart,this.moneyDom=".ymq-money",this.automaticDiscount={},this.hasAutomaticDiscount=!1,this.cartPriceClass=["ymq_cart_items_subtotal_price","ymq_cart_original_total_price","ymq_cart_total_price"],this.config.addPrice={},this.config.onetimetag=` ( ${this.config.util.getValue(this.config.ymq_option_branding.lan,"one-time-tag","one time")} )`,this.ajaxDdata={variant_id:{},customer_id:"",total_price:"",item_count:this.cartJson.item_count},this.cartPriceClassShopifyCartJsonData={},this.itemPriceClass=["ymq_item_price","ymq_item_final_price","ymq_item_original_price"],this.otherItemPriceClass=["ymq_item_other_price"],this.itemPriceClassShopifyCartJsonData={},this.itemLinePriceClass=["ymq_item_line_price","ymq_item_final_line_price","ymq_item_original_line_price"],this.otherItemLinePriceClass=["ymq_item_line_other_price"],this.itemLinePriceClassShopifyCartJsonData={},this.discountCode="",this.itemAddPrice={},this.itemAddLinePrice={},this.itemDiscountLinePrice={},this.needUpdateQty=[],"wolan1.myshopify.com"==window.ymq_option.shop?this.prefix_url="https://shopify.luckydn.top/api/":this.prefix_url="https://option.ymq.cool/api/",this.suffix_url="qty"}getAutomaticDiscount(){var t=this;return!ymqJq.isEmptyObject(t.cartJson.cart_level_discount_applications)&&Array.isArray(t.cartJson.cart_level_discount_applications)&&t.cartJson.cart_level_discount_applications.length>0&&(t.automaticDiscount.type=1,t.automaticDiscount.title=t.cartJson.cart_level_discount_applications[0].title,t.automaticDiscount.value=t.cartJson.cart_level_discount_applications[0].value,t.automaticDiscount.value_type=t.cartJson.cart_level_discount_applications[0].value_type,t.automaticDiscount.total_allocated_amount=t.cartJson.cart_level_discount_applications[0].total_allocated_amount,"automatic"!=t.cartJson.cart_level_discount_applications[0].type||t.hasAutomaticDiscount||(t.hasAutomaticDiscount=!0)),t}init(){var t=this;if(t.initMemberVariables(),0==this.cartJson.item_count)return!1;t.doHook("before_init_cart").doHook("replaceDomPrice_b").replaceDomPrice().doHook("replaceDomPrice_a"),t.buildStyle().hidePaymentButton().buildDiscountDom().registerDiscountCodeEvent().doCheckout().registerQuantityChangeEvent()}doHook(t){return this.config.ymqHook(t),this}replaceDomPrice(t=null){var i=this;return t&&(i.cartJson=t),i.getAutomaticDiscount(),i.config.addPrice={},i.config.qtyInfo={},i.cartAddPrice=0,i.cartPriceClassShopifyCartJsonData.ymq_cart_items_subtotal_price=this.cartJson.items_subtotal_price,i.cartPriceClassShopifyCartJsonData.ymq_cart_original_total_price=this.cartJson.original_total_price,i.cartPriceClassShopifyCartJsonData.ymq_cart_total_price=this.cartJson.total_price,console.log(i.cartJson),i.cartJson.items.forEach((function(t,e){var n=t.quantity,o=!1,a=t.key;if(i.config.addPrice[a]=[],i.itemPriceClassShopifyCartJsonData[a]={},i.itemPriceClassShopifyCartJsonData[a].ymq_item_price=t.price,i.itemPriceClassShopifyCartJsonData[a].ymq_item_final_price=t.final_price,i.itemPriceClassShopifyCartJsonData[a].ymq_item_original_price=t.original_price,i.itemLinePriceClassShopifyCartJsonData[a]={},i.itemLinePriceClassShopifyCartJsonData[a].ymq_item_line_price=t.line_price,i.itemLinePriceClassShopifyCartJsonData[a].ymq_item_final_line_price=t.final_line_price,i.itemLinePriceClassShopifyCartJsonData[a].ymq_item_original_line_price=t.original_line_price,t.hasOwnProperty("properties")&&!ymqJq.isEmptyObject(t.properties)&&Object.keys(t.properties).forEach((function(e){var r=t.properties[e];if(Array.isArray(r)&&(r=r.join(",")),r){var m=i.getQtyInfo(r);m&&(i.config.qtyInfo[a]=m,n>m.max&&i.needUpdateQty.push({id:a,quantity:m.max}),n<m.min&&i.needUpdateQty.push({id:a,quantity:m.min}),o=!0);var c=i.getMinMax(r);if(c&&(n>c.max&&i.needUpdateQty.push({id:a,quantity:c.max}),n<c.min&&i.needUpdateQty.push({id:a,quantity:c.min}),o=!0),console.log(r),(r=r.split(" | ")).length>1){var s=r[r.length-1];s=i.getPriceNew(s),i.config.addPrice[a].push(s)}}})),0==o){var r=i.config.getMinMaxByProduct(t.product_id,t.quantity);null!=r&&i.needUpdateQty.push({id:a,quantity:Number(r)})}var m=0,c=0;i.config.addPrice[a].forEach((function(t){m-=-t.price,t.onetime?c-=-t.price:c-=-t.price*n})),i.itemAddPrice[a]=100*m,i.itemAddLinePrice[a]=100*c;var s=i.itemLinePriceClassShopifyCartJsonData[a].ymq_item_final_line_price,l=i.itemAddLinePrice[a],d=parseFloat((Number(s)- -l)/100).toFixed(2);i.itemDiscountLinePrice[a]=i.setQtyInfoDomAndPrice(a,d),i.cartAddPrice=i.cartAddPrice-100*-c-100*i.itemDiscountLinePrice[a],i.ajaxDdata.variant_id[e]={product_id:t.product_id,variant_id:t.variant_id,line_price:t.line_price,quantity:n,add_line_price:l,qty_discount_line_price:100*i.itemDiscountLinePrice[a],total_line_price:l+Number(t.line_price)-100*i.itemDiscountLinePrice[a]}})),i.needUpdateQty.length>0&&(i.needUpdateQty.forEach((function(t){ymqJq.ajax({type:"POST",url:"/cart/change.js",data:t,async:!1,success:function(t){}})})),location.reload()),i.itemPriceClass.forEach((function(t){ymqJq(`.${t}`).each((function(){var e=ymqJq(this).data("ymq-item-key"),n=ymqJq(this).data("price");if(e||n){if(n)var o=Number(n);else o=i.itemPriceClassShopifyCartJsonData[e][t];var a=i.itemAddPrice[e],r=parseFloat((o- -a)/100).toFixed(2);ymqJq(this).html(i.config.doFormatWithoutRate(r)),i.setQtyInfoDomAndPrice(e,r,ymqJq(this))}}))})),i.itemLinePriceClass.forEach((function(t){ymqJq(`.${t}`).each((function(){var e=ymqJq(this).data("ymq-item-key"),n=ymqJq(this).data("price");if(e||n){if(n)var o=Number(n);else o=i.itemLinePriceClassShopifyCartJsonData[e][t];var a=i.itemAddLinePrice[e],r=parseFloat((o- -a)/100).toFixed(2);ymqJq(this).html(i.config.doFormatWithoutRate(r)),i.setQtyInfoDomAndPrice(e,r,ymqJq(this))}}))})),i.otherItemPriceClass.forEach((function(t){ymqJq(`.${t}`).each((function(){var t=ymqJq(this).data("ymq-item-key"),e=i.getPrice(ymqJq(this).html());console.log(e);var n=i.itemAddPrice[t],o=parseFloat((e- -n)/100).toFixed(2);ymqJq(this).html(i.config.doFormatWithoutRate(o)),i.setQtyInfoDomAndPrice(t,o,ymqJq(this))}))})),i.otherItemLinePriceClass.forEach((function(t){ymqJq(`.${t}`).each((function(){var t=ymqJq(this).data("ymq-item-key"),e=i.getPrice(ymqJq(this).html()),n=i.itemAddLinePrice[t],o=parseFloat((e- -n)/100).toFixed(2);ymqJq(this).html(i.config.doFormatWithoutRate(o)),i.setQtyInfoDomAndPrice(t,o,ymqJq(this))}))})),i.cartPriceClass.forEach((function(t){ymqJq(`.${t}`).each((function(){if(ymqJq(this).data("price"))var e=Number(ymqJq(this).data("price"));else e=i.cartPriceClassShopifyCartJsonData[t];if(i.hasAutomaticDiscount&&1==Number(i.automaticDiscount.type)&&"percentage"==i.automaticDiscount.value_type)var n=i.cartAddPrice*(1-i.automaticDiscount.value/100);else n=i.cartAddPrice;var o=parseFloat((e- -n)/100).toFixed(2);ymqJq(this).html(i.config.doFormatWithoutRate(o))}))})),i.hasAutomaticDiscount&&1==Number(i.automaticDiscount.type)&&"percentage"==i.automaticDiscount.value_type&&ymqJq(".ymq_cart_level_discount_applications").each((function(){var t=i.automaticDiscount.total_allocated_amount,e=i.cartAddPrice*(i.automaticDiscount.value/100),n=parseFloat((t- -e)/100).toFixed(2);ymqJq(this).html(i.config.doFormatWithoutRate(n))})),this.ajaxDdata.total_price=Number(this.cartJson.total_price)+Number(this.cartAddPrice),window.ymq_option.ymq_option_branding.extra.plan>1&&1==Number(i.config.util.getValue(i.config.ymq_option_branding.extra,"make-sku",0))&&(i.config.addedCartEvent=!1),i}setQtyInfoDomAndPrice(t,i,e=null){var n=this,o=i;if(n.config.qtyInfo.hasOwnProperty(t)){var a=n.config.qtyInfo[t];o=1==Number(a.discount_type)?i*(1-a.discount/100):i-a.discount,null!=e&&Number(a.discount)>0&&(n.suffix_url="qty",n.config.addedCartEvent=!1,e.next(".ymq-qty-discount-price").remove(),e.css("cssText","text-decoration:line-through!important;").after(`<span class="ymq-qty-discount-price"><br/><span>${n.config.doFormatWithoutRate(o)}</span></span>`))}return parseFloat(i-o).toFixed(2)}hidePaymentButton(){var t=this;if(!t.config.addedCartEvent){var i=t.config.util.getValue(t.config.ymq_option_branding.extra,"payment-button-hide",""),e="";""!=i&&(e+=`\n                        ${i}{\n                            display: none!important;\n                        }\n                    `,ymqJq(i).hide()),e+=`\n                    ${t.config.cart_form_class} #dynamic-checkout-cart,${t.config.cart_form_class}  .shopify-cleanslate,${t.config.cart_form_class} .additional-checkout-buttons,${t.config.cart_form_class}  [data-shopify="payment-button"]{\n                        display: none!important;\n                    }\n                `,ymqJq(t.config.styleDomId).append(e),ymqJq(`${t.config.cart_form_class} #dynamic-checkout-cart,${t.config.cart_form_class} .shopify-cleanslate,${t.config.cart_form_class} .additional-checkout-buttons`).hide(),ymqJq(`${t.config.cart_form_class} [data-shopify="payment-button"]`).hide().remove();var n='#dynamic-checkout-cart, .shopify-cleanslate, .additional-checkout-buttons,[data-shopify="payment-button"]';""!=i&&(n=`${n},${i}`),ymqJq("body").append(`<style class="hidePaymentButtonStyle" type="text/css">${n}{display: none!important;}</style>`)}return t}f(t){"cart"==window.ymq_option.page&&setTimeout((function(){var i=ymqJq(t.target).closest("form"),e=i.find('[name="update"][type="submit"]');i.is('[action~="/cart"]')&&e.length?i.submit():window.location.reload()}),1e3)}registerQuantityChangeEvent(){var t=this;return setTimeout((function(){var i=t.config.util.getValue(t.config.ymq_option_branding.extra,"cart-quantity-click-change","");""!=i?ymqJq(i).click(t.f):0==ymqJq('.btn-link[name="update"]').length&&ymqJq('[href^="/cart/change"], [data-action="decrease-quantity"], [data-action="increase-quantity"], .js-qty__adjust, .js-counter .inputCounter-down, .js-counter .inputCounter-up, a.remove_item_button, .cart-remove-btn, [data-cart-action="increment"], .cart-table .qtyminus_multi, .cart-table .qtyplus_multi, .mini_cart_actions .plus, .mini_cart_actions .minus, .cart_tbl .minus_btn, .cart_tbl .plus_btn, .btn-increment, .quantity .quantity-up, .quantity .quantity-down, .quantity input[type="button"], [data-ajax-cart-quantity-modifier], .gt_quantity_plus, .gt_quantity_minus, .quantity-plus, .quantity-minus, .gt_cart-quantity--minus, .gt_cart-quantity--plus, a.cart-item__remove, .quantity [class="update btn item"], [data-cart-item-remove]').click(t.f);var e=t.config.util.getValue(t.config.ymq_option_branding.extra,"cart-quantity-change","");""!=e?ymqJq(e).change(t.f):0==ymqJq('.btn-link[name="update"]').length&&ymqJq('[data-quantity-input]:not(.cart__qty-input), input.cart-item__qty-input, input.cart__quantity, input.cart__product-qty, [data-cart-product-quantity], .cart-table .item-qty, .cart_tbl .number_val_input, .cart-product-quantity .input-qty, .cart-quantity > input[type="number"], .quantity .cart-item__quantity-input, .quantity input[type="number"], .cart__qty-input, [data-ajax-cart-quantity-value], .number_quantity, [name="quantity"], input.quantity-selector, .update-cart--template, .gt_cart-quantity--number, input[name="updates[]"]').change(t.f)}),5),t}doCheckout(){var t=this,i=t.config.util.getValue(t.config.ymq_option_branding.extra,"check-out-button","");if(""!=i)var e=`${i},[name="checkout"], a[href^="/checkout"], a[href="/account/login"].cart__submit, button[type="submit"].btn-order, a.btn.cart__checkout, a.cart__submit, .wc-proceed-to-checkout button, #cart_form .buttons .btn-primary`;else e='[name="checkout"], a[href^="/checkout"], a[href="/account/login"].cart__submit, button[type="submit"].btn-order, a.btn.cart__checkout, a.cart__submit, .wc-proceed-to-checkout button, #cart_form .buttons .btn-primary';function n(){var i=ymqJq('[name^="attributes["]');for(var e in i.each((function(i,e){if(e.name&&e.value){var n=e.name.match(/attributes\[([^\]]*)\]/);t.config.obj_attributes[n[1]]=e.value}})),t.config.obj_attributes=Object.assign(t.config.obj_attributes,t.cartJson),window.SECOMAPP&&SECOMAPP.ca&&SECOMAPP.ca.globalValue&&(t.config.obj_attributes=Object.assign(t.config.obj_attributes,SECOMAPP.ca.globalValue)),t.config.cart2&&(t.config.obj_attributes=Object.assign(t.config.obj_attributes,t.config.cart2.attributes)),t.config.obj_attributes)t.config.note_attributes.push({name:e,value:t.config.obj_attributes[e]})}function o(i){var e=null;t.config.cart_form.length&&(e=t.config.cart_form.attr("action").match(/\/checkout(\?locale=\w{2})/)),!e&&t.config.checkouts.attr("href")&&(e=t.config.checkouts.attr("href").match(/\/checkout(\?locale=\w{2})/));var n=e?e[1]:"";1!=Number(t.config.util.getValue(t.config.ymq_option_branding.extra,"locale",0))&&"queensberg.myshopify.com"!=Shopify.shop||(n=`?locale=${Shopify.locale}`),t.config.checkouts.css("pointerEvents","none");var o="";t.config.cart_form.find('[name="note"]').each((function(t,i){o+=i.value})),t.startLoading(t.checkOutDom),t.getAttributes(),t.config.ymqHook("doCheckout_before_getAjaxData"),t.config.checkoutAjaxData={data:t.cartJson,discountCode:t.discountCode,shop:t.config.shop,token:t.config.token,timestamp:t.config.timestamp,customer_id:t.config.customer_id,note:o,version:1,currency:Shopify.currency&&Shopify.currency.rate&&Shopify.currency.active,rate:Shopify.currency&&Shopify.currency.active&&Shopify.currency.rate,note_attributes:t.config.note_attributes,tags:t.config.tags.join(", ")},t.config.ymqHook("doCheckout_after_getAjaxData"),ymqJq.post(`${t.prefix_url}checkout${t.suffix_url}`,t.config.checkoutAjaxData).done((function(i){setTimeout((function(){t.config.checkouts.css("pointerEvents","auto"),t.endLoading(t.checkOutDom)}),5e3),t.config.ymqHook("doCheckout_success"),window.location.href=i.data+n})).fail((function(i){500==Number(i.status)?ymqJq.post(`${t.prefix_url}checkout`,{data:t.cartJson,discountCode:t.discountCode,shop:t.config.shop,token:t.config.token,timestamp:t.config.timestamp,customer_id:t.config.customer_id,note:o,note_attributes:t.config.note_attributes,tags:t.config.tags.join(", ")}).done((function(i){setTimeout((function(){t.config.checkouts.css("pointerEvents","auto"),t.endLoading(t.checkOutDom)}),5e3),t.config.ymqHook("doCheckout_success"),window.location.href=i.data+n})).fail((function(i){setTimeout((function(){t.config.checkouts.css("pointerEvents","auto"),t.endLoading(t.checkOutDom)}),5e3),t.config.ymqHook("doCheckout_error"),window.location.href="/checkout"+n})):(setTimeout((function(){t.config.checkouts.css("pointerEvents","auto"),t.endLoading(t.checkOutDom)}),5e3),t.config.ymqHook("doCheckout_success"),window.location.href="/checkout"+n)}))}return ymqJq(e).css("pointerEvents","auto"),t.config.addedCartEvent||("cairpods.myshopify.com"===Shopify.shop&&ymqJq(document.body).append("<style>.tbn_btn_hooker {display: none;}</style>"),ymqJq("#dynamic-checkout-cart, .shopify-cleanslate, .additional-checkout-buttons").hide(),t.config.checkouts=ymqJq(e),t.config.cart_form=ymqJq(e).closest("form"),t.config.obj_attributes=t.config.obj_attributes||{},t.config.note_attributes=t.config.note_attributes||[],t.config.tags=t.config.tags||[],ymqJq("#nudge-offer").hide(),ymqJq("#cart_agree").show(),ymqJq("head").append("<style>.js_agree_ck+label::before, .pr .scl_selected { display: none !important; }</style>"),ymqJq(e).attr("onclick",""),ymqJq(document).on("click",e,(function(i){if(window.ymq_option&&window.ymq_option.cart){i.preventDefault(),i.stopImmediatePropagation(),t.checkOutDom=ymqJq(this);var e=ymqJq(i.target);ymqJq("#torden-terms-checkbox, #cart_agree").attr("required",!0),window.localDeliveryVersion&&t.config.cart_form.find('[name="attributes[local_delivery_request]"]').length&&t.config.note_attributes.push({name:"Delivery date/time",value:t.config.cart_form.find('[name="attributes[local_delivery_request]"]').val()});for(var a=0;a<t.cartJson.items.length;a+=1){var r=t.cartJson.items[a],m=document.querySelectorAll("[id='updates_"+r.key+"']");1!=m.length&&(m=document.querySelectorAll("[id='updates_"+r.variant_id+"']")),1==m.length&&(t.cartJson.items[a].quantity=m[0].value)}var c=!1;window.navigator&&navigator.platform&&(c=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform));var s=ymqJq("#CartPageAgree"),l=ymqJq(i.target).closest("form");return s.length&&!s.is(":checked")&&window.theme&&window.theme.strings&&window.theme.strings.cartTermsConfirmation?(alert(theme.strings.cartTermsConfirmation),!1):"A"!==e.prop("tagName")&&l.length&&l.get(0).checkValidity&&!l.get(0).checkValidity()?void(l.get(0).reportValidity&&(c?(setTimeout((function(){document.activeElement.scrollIntoView&&document.activeElement.scrollIntoView({block:"center",behavior:"smooth"})})),setTimeout((function(){document.activeElement.type&&"file"===document.activeElement.type&&document.activeElement.blur()}),900)):l.get(0).reportValidity())):(ymqJq.get({url:"/cart.js",dataType:"json"}).done((function(i){t.cartJson=i,t.config.cart2=i,n(),o(t.config.cart2)})).fail((function(){n(),o()})),!1)}})),t.config.addedCartEvent=!0),t}getAttributes(){var t=this;t.config.note_attributes={},ymqJq('[name^="attributes["]').each((function(){var i=ymqJq(this).attr("name"),e=ymqJq(this).val();if(i&&e){var n=i.match(/attributes\[([^\]]*)\]/);t.config.note_attributes[n[1]]=e}}))}startLoading(t){t.addClass("ymq-btn-progress")}endLoading(t){t.removeClass("ymq-btn-progress")}disabledSubmit(){return this.config.addedCartEvent||ymqJq(this.config.cart_form_class).submit((function(t){return t.preventDefault(),!1})),this}getPrice(t){var i=this.config.doFormatWithoutRate(1,!1).replace(/[0-9,.-]+/g,"");return console.log(t.indexOf(i)),-1!=t.indexOf(i)?(console.log(i),Number(t.replace(/[^0-9.-]+/g,""))):0}getMinMax(t){if(/^.*: \( \d+ - \d+ \) $/.test(t)){var i=0,e=999999999999999;return"null"!=t.match(/.*: \( (\d+) - \d+ \) /)&&(i=t.match(/.*: \( (\d+) - \d+ \) /)[1]),"null"!=t.match(/.*: \( \d+ - (\d+) \) /)&&(e=t.match(/.*: \( \d+ - (\d+) \) /)[1]),{min:i,max:e}}return!1}getQtyInfo(t){var i=this,e=i.config.util.getValue(i.config.ymq_option_branding.lan,"qty-discount-type-fixed","fixed"),n=i.config.util.getValue(i.config.ymq_option_branding.lan,"max-quantity","999999");if(/^.*: \d+ - .* \| .*: \d+ \| .*: .*$/.test(t)){var o=0,a=999999999999999,r=0,m=2;return"null"!=t.match(/.*: (\d+) - .* \| .*: \d+ \| .*: .*/)&&(o=t.match(/.*: (\d+) - .* \| .*: \d+ \| .*: .*/)[1]),"null"!=t.match(/.*: \d+ - (.*) \| .*: \d+ \| .*: .*/)&&(a=t.match(/.*: \d+ - (.*) \| .*: \d+ \| .*: .*/)[1])==n&&(a=999999999999999),"null"!=t.match(/.*: \d+ - .* \| .*: (\d+) \| .*: .*/)&&(r=t.match(/.*: \d+ - .* \| .*: (\d+) \| .*: .*/)[1]),"null"!=t.match(/.*: \d+ - .* \| .*: \d+ \| .*: (.*)/)&&(m=t.match(/.*: \d+ - .* \| .*: \d+ \| .*: (.*)/)[1]),{min:o,max:a,discount:r,discount_type:m==e?0:1}}return!1}getPriceNew(t){var i=this;i.config.addedCartEvent=!1;var e=!1,n=0,o=Shopify.currency.active;if(1==Number(i.config.util.getValue(i.config.ymq_option_branding.extra,"carry-currency","0"))){var a=i.config.util.getValue(i.config.ymq_option_branding.lan,"currency-split"," - "),r=t.split(a);2==r.length&&(t=r[0],o=r[1])}return t.endWith(i.config.onetimetag)&&(e=!0,t=t.slice(0,-i.config.onetimetag.length)),n=this.config.util.isNum(t)?t*i.config.Shopify.currency.rate:Number(t.replace(/[^0-9.-]+/g,"")),o!=Shopify.currency.active&&window.hasOwnProperty("ymq_currencys")&&window.ymq_currencys.hasOwnProperty(o)&&window.ymq_currencys.hasOwnProperty(Shopify.currency.active)&&(n=parseFloat(n/window.ymq_currencys[o]*window.ymq_currencys[Shopify.currency.active]).toFixed(2)),n<0&&window.ymq_option.ymq_option_branding.extra.plan<2&&(n=0),{onetime:e,price:n}}buildStyle(){var t=this;if("product"!=window.ymq_option.page){var i=":root{";Object.keys(t.config.ymq_option_branding).forEach((function(e){"lan"!=e&&"extra"!=e&&Object.keys(t.config.ymq_option_branding[e]).forEach((function(n){i+=`\n                        ${n}: ${t.config.ymq_option_branding[e][n]};\n                    `}))})),i+="}";var e=t.config.util.getValue(t.config.ymq_option_branding.extra,"title-value","1,2,9,10");(e=e.split(",")).push(18,19);var n=[];e.forEach((function(t){n.push(`.ymq-options-box-${t} .ymq_option_text_span`)})),i+=`\n                ${n.join(",")}{\n                    display: none;\n                }\n            `,i+=t.config.util.getValue(t.config.ymq_option_branding.extra,"extra-style-code",""),ymqJq(t.config.styleDomId).html(i);var o=`<style type="text/css">${t.config.util.getValue(t.config.ymq_option_branding.extra,"customecss","")}</style>`;ymqJq("body").append(o)}return t}registerDiscountCodeEvent(){var t=this;return 1==t.config.util.getValue(t.config.ymq_option_branding.extra,"discount",0)&&(ymqJq(document).on("keyup","#ymq-discount-input",(function(){ymqJq("#ymq-discount-error-info").html(""),ymqJq("#ymq-discount-input").removeClass("ymq-discount-input-error"),ymqJq(this).val()?ymqJq("#ymq-discount-apply").removeClass("ymq-discount-apply-disable"):ymqJq("#ymq-discount-apply").addClass("ymq-discount-apply-disable")})),ymqJq(document).on("click","#ymq-discount-apply",(function(){t.config.ymqHook("ymqDiscountClick_b");var i=ymqJq(this);if(i.hasClass("ymq-btn-progress")||""==ymqJq("#ymq-discount-input").val())return!1;i.addClass("ymq-btn-progress"),t.ajaxDdata.code=ymqJq("#ymq-discount-input").val(),ymqJq.ajax({type:"GET",url:`https://${window.location.host}/discount/${t.ajaxDdata.code}`}),ymqJq.post(`${t.prefix_url}discount${t.suffix_url}`,{data:t.ajaxDdata,shop:t.config.shop,token:t.config.token,timestamp:t.config.timestamp,customer_id:t.config.customer_id}).done((function(e){ymqJq("#ymq-discount-success-info").show(),t.discountCode=t.ajaxDdata.code,ymqJq("#ymq-discount-success-code").html(t.ajaxDdata.code),i.removeClass("ymq-btn-progress"),t.discount_price=e.data,t.cartPriceClass.forEach((function(i){var n=ymqJq(`.${i}`);n.addClass("ymq-text-decoration"),n.each((function(){var o=t.cartPriceClassShopifyCartJsonData[i],a=t.cartAddPrice,r=(parseFloat((o- -a)/100).toFixed(2),Number(o)+Number(a)-Number(e.data));n.next().hasClass("ymq_cart_discount_price")?n.next().html(t.config.doFormat(parseFloat(r/100).toFixed(2))):n.after(`\n                                        <span class="ymq_cart_discount_price">\n                                            ${t.config.doFormat(parseFloat(r/100).toFixed(2))}\n                                        </span>\n                                    `)}))})),t.config.ymqHook("ymqDiscountClick_a")})).fail((function(e){ymqJq("#ymq-discount-input").addClass("ymq-discount-input-error"),ymqJq("#ymq-discount-error-info").html("Enter a valid discount code"),ymqJq("#ymq-discount-success-info").hide(),i.removeClass("ymq-btn-progress"),t.cartPriceClass.forEach((function(t){ymqJq(`.${t}`).each((function(){ymqJq(this).removeClass("ymq-text-decoration").next(".ymq_cart_discount_price").remove()}))}))}))})),ymqJq(document).on("click",".ymq-svg-close",(function(){ymqJq("#ymq-discount-input").val("").trigger("keyup"),ymqJq("#ymq-discount-success-info").hide(),t.ajaxDdata.code="",t.discountCode="",ymqJq.ajax({type:"GET",url:`https://${window.location.host}/discount/ymq`}),t.cartPriceClass.forEach((function(t){ymqJq(`.${t}`).each((function(){ymqJq(this).removeClass("ymq-text-decoration").next(".ymq_cart_discount_price").remove()}))}))}))),t}buildDiscountDom(){var t=this;if(!t.hasAutomaticDiscount&&1==t.config.util.getValue(t.config.ymq_option_branding.extra,"discount",0)&&ymqJq("#ymq-discount").length<=0){var i=`\n                <div id="ymq-discount">\n                    <div id="ymq-discount-action">\n                        <div id="ymq-discount-active">\n                            <input placeholder="${t.config.ymq_option_branding.lan.discount_code}" id="ymq-discount-input" type="text" name="reduction_code">\n                            <div id="ymq-discount-apply" class="ymq-discount-apply-disable">${t.config.ymq_option_branding.lan.application}</div>\n                        </div>\n                        <div id="ymq-discount-info">\n                            <div id="ymq-discount-success-info" style="display: none;">\n                                <svg class="ymq-svg-coupon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18"><path d="M17.78 3.09C17.45 2.443 16.778 2 16 2h-5.165c-.535 0-1.046.214-1.422.593l-6.82 6.89c0 .002 0 .003-.002.003-.245.253-.413.554-.5.874L.738 8.055c-.56-.953-.24-2.178.712-2.737L9.823.425C10.284.155 10.834.08 11.35.22l4.99 1.337c.755.203 1.293.814 1.44 1.533z" fill-opacity=".55"></path><path d="M10.835 2H16c1.105 0 2 .895 2 2v5.172c0 .53-.21 1.04-.586 1.414l-6.818 6.818c-.777.778-2.036.782-2.82.01l-5.166-5.1c-.786-.775-.794-2.04-.02-2.828.002 0 .003 0 .003-.002l6.82-6.89C9.79 2.214 10.3 2 10.835 2zM13.5 8c.828 0 1.5-.672 1.5-1.5S14.328 5 13.5 5 12 5.672 12 6.5 12.672 8 13.5 8z"></path></svg>\n                                <span id="ymq-discount-success-code"></span>\n                                <svg class="ymq-svg-close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13"><path d="M1.5 1.5l10.05 10.05M11.5 1.5L1.45 11.55" stroke-width="2" fill="none" fill-rule="evenodd" stroke-linecap="round"></path></svg>\n                            </div>\n                            <div id="ymq-discount-error-info"></div>\n                        </div>\n                    </div>\n                    \n                </div>\n                <div style="clear: both;"></div>\n            `,e=t.config.util.getValue(t.config.ymq_option_branding.extra,"discount-before","");if(""!=e&&ymqJq(e).length>0)ymqJq(e).length>1?ymqJq(e).first().before(i):ymqJq(e).before(i);else{var n=null;ymqJq(t.config.cart_form_class).children().each((function(){ymqJq(this).find(".ymq_cart_total_price").length>=1&&(n=ymqJq(this))})),null==n&&(n=ymqJq(t.config.cart_form_class).children().last()),n&&n.before(i)}}return t}static getInstance(){return this.instance||(this.instance=new t),this.instance}},YmqCurrency=class t{constructor(){var t=this;t.instance=null,t.util=Util.getInstance(),t.init()}static getInstance(){return this.instance||(this.instance=new t),this.instance}initMemberVariables(){var t=this;t.moneyFormats={USD:{money_format:"${{amount}}",money_with_currency_format:"${{amount}} USD"},EUR:{money_format:"&euro;{{amount}}",money_with_currency_format:"&euro;{{amount}} EUR"},GBP:{money_format:"&pound;{{amount}}",money_with_currency_format:"&pound;{{amount}} GBP"},CAD:{money_format:"${{amount}}",money_with_currency_format:"${{amount}} CAD"},ALL:{money_format:"Lek {{amount}}",money_with_currency_format:"Lek {{amount}} ALL"},DZD:{money_format:"DA {{amount}}",money_with_currency_format:"DA {{amount}} DZD"},AOA:{money_format:"Kz{{amount}}",money_with_currency_format:"Kz{{amount}} AOA"},ARS:{money_format:"${{amount_with_comma_separator}}",money_with_currency_format:"${{amount_with_comma_separator}} ARS"},AMD:{money_format:"{{amount}} AMD",money_with_currency_format:"{{amount}} AMD"},AWG:{money_format:"Afl{{amount}}",money_with_currency_format:"Afl{{amount}} AWG"},AUD:{money_format:"${{amount}}",money_with_currency_format:"${{amount}} AUD"},BBD:{money_format:"${{amount}}",money_with_currency_format:"${{amount}} Bds"},AZN:{money_format:"m.{{amount}}",money_with_currency_format:"m.{{amount}} AZN"},BDT:{money_format:"Tk {{amount}}",money_with_currency_format:"Tk {{amount}} BDT"},BSD:{money_format:"BS${{amount}}",money_with_currency_format:"BS${{amount}} BSD"},BHD:{money_format:"{{amount}}0 BD",money_with_currency_format:"{{amount}}0 BHD"},BYR:{money_format:"Br {{amount}}",money_with_currency_format:"Br {{amount}} BYR"},BZD:{money_format:"BZ${{amount}}",money_with_currency_format:"BZ${{amount}} BZD"},BTN:{money_format:"Nu {{amount}}",money_with_currency_format:"Nu {{amount}} BTN"},BAM:{money_format:"KM {{amount_with_comma_separator}}",money_with_currency_format:"KM {{amount_with_comma_separator}} BAM"},BRL:{money_format:"R$ {{amount_with_comma_separator}}",money_with_currency_format:"R$ {{amount_with_comma_separator}} BRL"},BOB:{money_format:"Bs{{amount_with_comma_separator}}",money_with_currency_format:"Bs{{amount_with_comma_separator}} BOB"},BWP:{money_format:"P{{amount}}",money_with_currency_format:"P{{amount}} BWP"},BND:{money_format:"${{amount}}",money_with_currency_format:"${{amount}} BND"},BGN:{money_format:"{{amount}} лв",money_with_currency_format:"{{amount}} лв BGN"},MMK:{money_format:"K{{amount}}",money_with_currency_format:"K{{amount}} MMK"},KHR:{money_format:"KHR{{amount}}",money_with_currency_format:"KHR{{amount}}"},KYD:{money_format:"${{amount}}",money_with_currency_format:"${{amount}} KYD"},XAF:{money_format:"FCFA{{amount}}",money_with_currency_format:"FCFA{{amount}} XAF"},CLP:{money_format:"${{amount_no_decimals}}",money_with_currency_format:"${{amount_no_decimals}} CLP"},CNY:{money_format:"&#165;{{amount}}",money_with_currency_format:"&#165;{{amount}} CNY"},COP:{money_format:"${{amount_with_comma_separator}}",money_with_currency_format:"${{amount_with_comma_separator}} COP"},CRC:{money_format:"&#8353; {{amount_with_comma_separator}}",money_with_currency_format:"&#8353; {{amount_with_comma_separator}} CRC"},HRK:{money_format:"{{amount_with_comma_separator}} kn",money_with_currency_format:"{{amount_with_comma_separator}} kn HRK"},CZK:{money_format:"{{amount_with_comma_separator}} K&#269;",money_with_currency_format:"{{amount_with_comma_separator}} K&#269;"},DKK:{money_format:"{{amount_with_comma_separator}}",money_with_currency_format:"kr.{{amount_with_comma_separator}}"},DOP:{money_format:"RD$ {{amount}}",money_with_currency_format:"RD$ {{amount}}"},XCD:{money_format:"${{amount}}",money_with_currency_format:"EC${{amount}}"},EGP:{money_format:"LE {{amount}}",money_with_currency_format:"LE {{amount}} EGP"},ETB:{money_format:"Br{{amount}}",money_with_currency_format:"Br{{amount}} ETB"},XPF:{money_format:"{{amount_no_decimals_with_comma_separator}} XPF",money_with_currency_format:"{{amount_no_decimals_with_comma_separator}} XPF"},FJD:{money_format:"${{amount}}",money_with_currency_format:"FJ${{amount}}"},GMD:{money_format:"D {{amount}}",money_with_currency_format:"D {{amount}} GMD"},GHS:{money_format:"GH&#8373;{{amount}}",money_with_currency_format:"GH&#8373;{{amount}}"},GTQ:{money_format:"Q{{amount}}",money_with_currency_format:"{{amount}} GTQ"},GYD:{money_format:"G${{amount}}",money_with_currency_format:"${{amount}} GYD"},GEL:{money_format:"{{amount}} GEL",money_with_currency_format:"{{amount}} GEL"},HNL:{money_format:"L {{amount}}",money_with_currency_format:"L {{amount}} HNL"},HKD:{money_format:"${{amount}}",money_with_currency_format:"HK${{amount}}"},HUF:{money_format:"{{amount_no_decimals_with_comma_separator}}",money_with_currency_format:"{{amount_no_decimals_with_comma_separator}} Ft"},ISK:{money_format:"{{amount_no_decimals}} kr",money_with_currency_format:"{{amount_no_decimals}} kr ISK"},INR:{money_format:"Rs. {{amount}}",money_with_currency_format:"Rs. {{amount}}"},IDR:{money_format:"{{amount_with_comma_separator}}",money_with_currency_format:"Rp {{amount_with_comma_separator}}"},ILS:{money_format:"{{amount}} NIS",money_with_currency_format:"{{amount}} NIS"},JMD:{money_format:"${{amount}}",money_with_currency_format:"${{amount}} JMD"},JPY:{money_format:"&#165;{{amount_no_decimals}}",money_with_currency_format:"&#165;{{amount_no_decimals}} JPY"},JEP:{money_format:"&pound;{{amount}}",money_with_currency_format:"&pound;{{amount}} JEP"},JOD:{money_format:"{{amount}}0 JD",money_with_currency_format:"{{amount}}0 JOD"},KZT:{money_format:"{{amount}} KZT",money_with_currency_format:"{{amount}} KZT"},KES:{money_format:"KSh{{amount}}",money_with_currency_format:"KSh{{amount}}"},KWD:{money_format:"{{amount}}0 KD",money_with_currency_format:"{{amount}}0 KWD"},KGS:{money_format:"лв{{amount}}",money_with_currency_format:"лв{{amount}}"},LVL:{money_format:"Ls {{amount}}",money_with_currency_format:"Ls {{amount}} LVL"},LBP:{money_format:"L&pound;{{amount}}",money_with_currency_format:"L&pound;{{amount}} LBP"},LTL:{money_format:"{{amount}} Lt",money_with_currency_format:"{{amount}} Lt"},MGA:{money_format:"Ar {{amount}}",money_with_currency_format:"Ar {{amount}} MGA"},MKD:{money_format:"ден {{amount}}",money_with_currency_format:"ден {{amount}} MKD"},MOP:{money_format:"MOP${{amount}}",money_with_currency_format:"MOP${{amount}}"},MVR:{money_format:"Rf{{amount}}",money_with_currency_format:"Rf{{amount}} MRf"},MXN:{money_format:"$ {{amount}}",money_with_currency_format:"$ {{amount}} MXN"},MYR:{money_format:"RM{{amount}} MYR",money_with_currency_format:"RM{{amount}} MYR"},MUR:{money_format:"Rs {{amount}}",money_with_currency_format:"Rs {{amount}} MUR"},MDL:{money_format:"{{amount}} MDL",money_with_currency_format:"{{amount}} MDL"},MAD:{money_format:"{{amount}} dh",money_with_currency_format:"Dh {{amount}} MAD"},MNT:{money_format:"{{amount_no_decimals}} &#8366",money_with_currency_format:"{{amount_no_decimals}} MNT"},MZN:{money_format:"{{amount}} Mt",money_with_currency_format:"Mt {{amount}} MZN"},NAD:{money_format:"N${{amount}}",money_with_currency_format:"N${{amount}} NAD"},NPR:{money_format:"Rs{{amount}}",money_with_currency_format:"Rs{{amount}} NPR"},ANG:{money_format:"&fnof;{{amount}}",money_with_currency_format:"{{amount}} NA&fnof;"},NZD:{money_format:"${{amount}}",money_with_currency_format:"${{amount}} NZD"},NIO:{money_format:"C${{amount}}",money_with_currency_format:"C${{amount}} NIO"},NGN:{money_format:"&#8358;{{amount}}",money_with_currency_format:"&#8358;{{amount}} NGN"},NOK:{money_format:"kr {{amount_with_comma_separator}}",money_with_currency_format:"kr {{amount_with_comma_separator}} NOK"},OMR:{money_format:"{{amount_with_comma_separator}} OMR",money_with_currency_format:"{{amount_with_comma_separator}} OMR"},PKR:{money_format:"Rs.{{amount}}",money_with_currency_format:"Rs.{{amount}} PKR"},PGK:{money_format:"K {{amount}}",money_with_currency_format:"K {{amount}} PGK"},PYG:{money_format:"Gs. {{amount_no_decimals_with_comma_separator}}",money_with_currency_format:"Gs. {{amount_no_decimals_with_comma_separator}} PYG"},PEN:{money_format:"S/. {{amount}}",money_with_currency_format:"S/. {{amount}} PEN"},PHP:{money_format:"&#8369;{{amount}}",money_with_currency_format:"&#8369;{{amount}} PHP"},PLN:{money_format:"{{amount_with_comma_separator}} zl",money_with_currency_format:"{{amount_with_comma_separator}} zl PLN"},QAR:{money_format:"QAR {{amount_with_comma_separator}}",money_with_currency_format:"QAR {{amount_with_comma_separator}}"},RON:{money_format:"{{amount_with_comma_separator}} lei",money_with_currency_format:"{{amount_with_comma_separator}} lei RON"},RUB:{money_format:"&#1088;&#1091;&#1073;{{amount_with_comma_separator}}",money_with_currency_format:"&#1088;&#1091;&#1073;{{amount_with_comma_separator}} RUB"},RWF:{money_format:"{{amount_no_decimals}} RF",money_with_currency_format:"{{amount_no_decimals}} RWF"},WST:{money_format:"WS$ {{amount}}",money_with_currency_format:"WS$ {{amount}} WST"},SAR:{money_format:"{{amount}} SR",money_with_currency_format:"{{amount}} SAR"},STD:{money_format:"Db {{amount}}",money_with_currency_format:"Db {{amount}} STD"},RSD:{money_format:"{{amount}} RSD",money_with_currency_format:"{{amount}} RSD"},SCR:{money_format:"Rs {{amount}}",money_with_currency_format:"Rs {{amount}} SCR"},SGD:{money_format:"${{amount}}",money_with_currency_format:"${{amount}} SGD"},SYP:{money_format:"S&pound;{{amount}}",money_with_currency_format:"S&pound;{{amount}} SYP"},ZAR:{money_format:"R {{amount}}",money_with_currency_format:"R {{amount}} ZAR"},KRW:{money_format:"&#8361;{{amount_no_decimals}}",money_with_currency_format:"&#8361;{{amount_no_decimals}} KRW"},LKR:{money_format:"Rs {{amount}}",money_with_currency_format:"Rs {{amount}} LKR"},SEK:{money_format:"{{amount_no_decimals}} kr",money_with_currency_format:"{{amount_no_decimals}} kr SEK"},CHF:{money_format:"SFr. {{amount}}",money_with_currency_format:"SFr. {{amount}} CHF"},TWD:{money_format:"${{amount}}",money_with_currency_format:"${{amount}} TWD"},THB:{money_format:"{{amount}} &#xe3f;",money_with_currency_format:"{{amount}} &#xe3f; THB"},TZS:{money_format:"{{amount}} TZS",money_with_currency_format:"{{amount}} TZS"},TTD:{money_format:"${{amount}}",money_with_currency_format:"${{amount}} TTD"},TND:{money_format:"{{amount}}",money_with_currency_format:"{{amount}} DT"},TRY:{money_format:"{{amount}}TL",money_with_currency_format:"{{amount}}TL"},UGX:{money_format:"Ush {{amount_no_decimals}}",money_with_currency_format:"Ush {{amount_no_decimals}} UGX"},UAH:{money_format:"₴{{amount}}",money_with_currency_format:"₴{{amount}} UAH"},AED:{money_format:"Dhs. {{amount}}",money_with_currency_format:"Dhs. {{amount}} AED"},UYU:{money_format:"${{amount_with_comma_separator}}",money_with_currency_format:"${{amount_with_comma_separator}} UYU"},VUV:{money_format:"${{amount}}",money_with_currency_format:"${{amount}}VT"},VEF:{money_format:"Bs. {{amount_with_comma_separator}}",money_with_currency_format:"Bs. {{amount_with_comma_separator}} VEF"},VND:{money_format:"{{amount_no_decimals_with_comma_separator}}&#8363;",money_with_currency_format:"{{amount_no_decimals_with_comma_separator}} VND"},XBT:{money_format:"{{amount_no_decimals}} BTC",money_with_currency_format:"{{amount_no_decimals}} BTC"},XOF:{money_format:"CFA{{amount}}",money_with_currency_format:"CFA{{amount}} XOF"},ZMW:{money_format:"K{{amount_no_decimals_with_comma_separator}}",money_with_currency_format:"ZMW{{amount_no_decimals_with_comma_separator}}"}};var i=t.util.getValue(window.ymq_option.ymq_option_branding.extra,"money-formats","");if(""!=i)try{i=JSON.parse(i),Object.keys(i).forEach((function(e){t.moneyFormats[e]=i[e]}))}catch(t){console.error(t)}return t}init(){this.initMemberVariables()}formatMoney(t,i){var e=this;t*=100;var n=e.moneyFormats[i][e.util.money_format];if(n||(n="{{amount}}"),"undefined"!=typeof Shopify&&"function"==typeof Shopify.formatMoney)return Shopify.formatMoney(t,n);"string"==typeof t&&(t=t.replace(".",""));var o="",a=/\{\{\s*(\w+)\s*\}\}/,r=n||"${{amount}}";function m(t,i){return void 0===t?i:t}function c(t,i,n,o){if(i=m(i,2),n=m(n,","),o=m(o,"."),isNaN(t)||null==t)return 0;var a=(t=(t/100).toFixed(i)).split("."),r=a[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+n),c=a[1]?o+a[1]:"";return 1==Number(e.util.getValue(window.ymq_option.ymq_option_branding.extra,"cents-up","0"))&&(c=`<sup>${c}</sup>`),r+c}switch(r.match(a)[1]){case"amount":o=c(t,2);break;case"amount_no_decimals":o=c(t,0);break;case"amount_with_comma_separator":o=c(t,2,".",",");break;case"amount_no_decimals_with_comma_separator":o=c(t,0,".",",")}return r.replace(a,o)}},Config=class Config{constructor(){var t=this;t.instance=null,t.util=Util.getInstance(),t.init()}init(){var t=this;String.prototype.endWith=function(t){var i=this.length-t.length;return i>=0&&this.lastIndexOf(t)==i},t.Shopify={},t.money_format="",t.form_box="",t.onetimetag="",t.cart_form='form[action*="/cart"]',t.discount_box="#ymq_discount_box",t.styleDomId="#ymq-jsstyle",t.add_to_cart="ymq-add-to-cart-button",t.buy_id_now="ymq-buy-it-now-button",t.quantity_box="ymq-quantity-box",t.quantity_input="ymq-quantity-input",t.quantity_add="ymq-quantity-add",t.quantity_cut="ymq-quantity-cut",t.quantity_change="ymq-quantity-change",t.min_quantity=0,t.max_quantity=9999999,t.qty_split=" * ",t.ymq_extra_0={},t.hasError=!1,t.multipleTypeArray=[6,7,8],t.emailRe=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/,t.numberRe=/^[0-9]+\.?[0-9]*/,t.ymq_variant_id="ymq-variant-id",t.ymq_option_title="ymq-option-title",t.basImgUrl="http://ymq-shopify.oss-us-east-1.aliyuncs.com/",t.img_suffix="?x-oss-process=image/resize,w_100/quality,q_80",t.please="please",t.box_prefix="option-box-",t.attrib_prefix="ymq-attrib-",t.attrib_item_prefix="ymq-attrib-item-",t.optionHtml="",t.selectedYmqOption={},t.product="",t.ymq_shopify_options="",t.ymq_option_data="",t.ymq_option_condition="",t.ymq_option_template="",t.ymq_option_template_condition="",t.ymq_option_settings="",t.ymq_option_branding="",t.ymq_has_only_default_variant="",t.variantData="",t.tem_prefix="tem",t.ymq_price_class="ymq-price-span",t.initCurrencyApp(),t.ymq_enLang={name:"en",month:["01","02","03","04","05","06","07","08","09","10","11","12"],weeks:["SU","MO","TU","WE","TH","FR","SA"],times:["Hour","Minute","Second"],timetxt:["Time","Start Time","End Time"],backtxt:"Back",clear:"Clear",today:"Now",yes:"Confirm",close:"Close"},t.ymq_jedateblue={bgcolor:"#275efe",color:"#ffffff",pnColor:"#bff3ff"},t.ymq_jedategreen={bgcolor:"#00A680",pnColor:"#00DDAA"},t.ymq_jedatered={bgcolor:"#D91600",pnColor:"#FF6653"},t.initFormat()}initCurrencyApp(){var t=this;t.currencyAppEnum={doubly:{install:"document.documentElement.innerHTML.match(/doubly.js/)",load:'typeof(DoublyGlobalCurrency) != "undefined"',do:'DoublyGlobalCurrency.convertAll(ymqJq("[name=doubly-currencies]").val())',beforedo:"ymqJq('.'+that.ymq_price_class).addClass('money')",status:"true",format:"DoublyGlobalCurrency.formatMoney(money*100,format,false,false)",init:"\n                        that.NumberFormatNew.moneyFormats[that.Shopify.currency.active] = DoublyGlobalCurrency.moneyFormats[that.Shopify.currency.active];\n                        ymqJq('.'+that.ymq_price_class).each(function(){\n                            ymqJq(this).html(that.NumberFormatNew.formatMoney(ymqJq(this).data('ymq-original-money'),that.Shopify.currency.active))\n                        })\n                    "},mlveda:{install:"document.documentElement.innerHTML.match(/multiCurrencyPricing/)",load:'typeof ACSCurrency !== "undefined" && typeof ACSCurrency.moneyFormats !== "undefined"',do:"mlvedaload();",beforedo:"ymqJq('.'+that.ymq_price_class).addClass('money')",status:"true",format:"ACSCurrency.formatMoney(money*100,format)",init:"\n                        that.NumberFormatNew.moneyFormats[that.Shopify.currency.active] = ACSCurrency.moneyFormats[that.Shopify.currency.active];\n                        ymqJq('.'+that.ymq_price_class).each(function(){\n                            ymqJq(this).html(that.NumberFormatNew.formatMoney(ymqJq(this).data('ymq-original-money'),that.Shopify.currency.active))\n                        })\n                    "}};var i=t.util.getValue(window.ymq_option.ymq_option_branding.extra,"currency-install","true"),e=t.util.getValue(window.ymq_option.ymq_option_branding.extra,"currency-load",""),n=t.util.getValue(window.ymq_option.ymq_option_branding.extra,"currency-do","true"),o=t.util.getValue(window.ymq_option.ymq_option_branding.extra,"currency-beforedo",""),a=t.util.getValue(window.ymq_option.ymq_option_branding.extra,"currency-status","true"),r=t.util.getValue(window.ymq_option.ymq_option_branding.extra,"currency-format",""),m=t.util.getValue(window.ymq_option.ymq_option_branding.extra,"currency-init","");return""!=i&&""!=e&&""!=n&&""!=a&&(t.currencyAppEnum={theme:{install:i,load:e,do:n,beforedo:o,status:a,format:r,init:m}}),t.currencyAppObj={},ymqJq.isEmptyObject(t.currencyAppObj)&&Object.keys(t.currencyAppEnum).forEach((function(i){ymqJq.isEmptyObject(t.currencyAppObj)&&t.currencyAppBool(t.currencyAppEnum[i].install)&&t.intervalResult(666,500,(function(){return!ymqJq.isEmptyObject(t.currencyAppObj)||(!t.currencyAppBool(t.currencyAppEnum[i].status,!0)||!!t.currencyAppBool(t.currencyAppEnum[i].load)&&(console.log(i),t.currencyAppObj=t.currencyAppEnum[i],t.currencyAppBool(t.currencyAppEnum[i].init),t.doAppCurrency(),!0))}))})),t}currencyAppBool(srt,defaults=!1){var that=this;try{return eval(srt)}catch(t){return defaults}return defaults}doAppCurrency(){var that=this;try{ymqJq.isEmptyObject(that.currencyAppObj)||(""!=that.currencyAppObj.beforedo&&that.currencyAppBool(that.currencyAppObj.beforedo),eval(that.currencyAppObj.do))}catch(t){console.error(t)}return that}intervalResult(t,i,e,n){"function"==typeof t?(n=i,e=t,i=1e3,t=20):"function"==typeof i&&(n=e,e=i,i=1e3),"function"!=typeof e&&(e=function(){return!1});var o=0,a=setInterval((function(){++o>t||e(o)?clearInterval(a):"function"==typeof n&&n()}),i)}initFormat(){var t=this;return t.Shopify=Shopify,t.NumberFormat=new Intl.NumberFormat("en-US",{style:"currency",currency:t.Shopify.currency.active}),t.NumberFormatNew=YmqCurrency.getInstance(),t.initMinMax(),t}initMinMax(){var t=this;if(window.ymq_option.hasOwnProperty("ymq_extra_0")&&(t.ymq_extra_0=window.ymq_option.ymq_extra_0,"product"==window.ymq_option.page&&window.ymq_option.product.hasOwnProperty("id")&&window.ymq_option.ymq_option_branding.extra.plan>1&&t.ymq_extra_0.hasOwnProperty(window.ymq_option.product.id.toString()))){var i=t.ymq_extra_0[window.ymq_option.product.id.toString()];""==i.min?t.min_quantity=0:t.min_quantity=Number(i.min),""==i.max?t.max_quantity=999999:t.max_quantity=Number(i.max)}}getMinMaxByProduct(t,i){if(t&&this.ymq_extra_0.hasOwnProperty(t.toString())){var e=this.ymq_extra_0[t.toString()];if(""!=e.max&&i>e.max)return e.max;if(""!=e.min&&i<e.min)return e.min}return null}doFormatWithWrappeStr(t,i,e,n=0,o=!0){var a=this.doFormat(e,n,o);return""!=a&&(a=`${t}${a}${i}`),a}formatMoneyYmq(t,i,e){var n=this;if(!i)return n.NumberFormat.format(t);try{return`<span data-ymq-money="${t}" data-ymq-original-money="${n.money_original}" class="${n.ymq_price_class}">${n.NumberFormatNew.formatMoney(t,e)}</span>`}catch(i){return`<span data-ymq-money="${t}" data-ymq-original-money="${n.money_original}" class="${n.ymq_price_class}">${n.NumberFormat.format(t)}</span>`}}formatMoney(money,addClass=!0,currency=this.Shopify.currency.active){var that=this;if(!addClass||ymqJq.isEmptyObject(that.currencyAppObj)||!that.currencyAppObj.hasOwnProperty("format")||""==that.currencyAppObj.format)return that.formatMoneyYmq(money,addClass,currency);var format=that.NumberFormatNew.moneyFormats[currency][that.util.money_format];format||(format="{{amount}}");try{var res=eval(that.currencyAppObj.format);return addClass?`<span data-ymq-money="${money}" data-ymq-original-money="${that.money_original}" class="${that.ymq_price_class}">${res}</span>`:res}catch(t){return that.formatMoneyYmq(money,addClass,currency)}}doFormat(t,i=0,e=!0){var n=this,o="";return n.money_original=t,t<0&&window.ymq_option.ymq_option_branding.extra.plan<2&&(t=0),0!=t&&(o=e||1!=Number(n.util.getValue(n.ymq_option_branding.extra,"close-cart-rate","0"))?n.formatMoney(t*n.Shopify.currency.rate,e):t,1==Number(i)&&(o+=n.onetimetag),n.doAppCurrency(),setTimeout((()=>{n.doAppCurrency()}),50)),o}doFormatWithoutRate(t,i=!0){var e=this,n="";return e.money_original=t,t<0&&window.ymq_option.ymq_option_branding.extra.plan<2&&(t=0),0!=t&&(n=e.formatMoney(t,i),e.doAppCurrency(),setTimeout((()=>{e.doAppCurrency()}),50)),n}getPriceWithRate(t){return t*this.Shopify.currency.rate}getSelectButtonPrice(t,i){var e=this,n=e.util.getValue(e.ymq_option_branding.extra,"price-value","3,7,15,16");n=n.split(",");var o=e.util.getValue(e.ymq_option_branding.lan,"price-split","+");return n.indexOf(i.toString())>-1||n.indexOf(Number(i))>-1?e.doFormatWithWrappeStr(` <span class="ymq-price-in-option-value"> ${t>0?"&nbsp;"+o:"&nbsp;"} `,"</span>",t):""}ymqHook(key){var that=this,hookCode=that.util.getValue(that.ymq_option_branding.extra,key,"");if(""!=hookCode)try{eval(hookCode)}catch(t){console.log(t)}}static getInstance(t,i){return this.instance||(this.instance=new Config),this.instance[t]=i,this.instance}},Html=class t{constructor(t){var i=this;i.instance=null,i.initJson=t,i.config=Config.getInstance("htmlInstance",i),i.init()}initMemberVariables(){var t=this;t.optionHtml="",t.selectedYmqOption={},t.isShopify=!1,t.json={},t.validate=[],t.tool_text="",t.alert_text="",t.help_text="",t.variant_id=0,t.conditionJson={},t.needAddLabel=[],t.config.hasQuantity=!1,t.config.quantity_is_fix_type=!1,t.config.quantity_has_value=!0,t.config.max_num=999999,t.config.qty_input_text=t.config.util.getValue(t.config.ymq_option_branding.lan,"qty-input-text","Qty: "),t.config.qty_inline=t.config.util.getValue(t.config.ymq_option_branding.extra,"qty-inline","3,4,5,6,7,8,15,16").split(","),t.config.multiple_select_qty_with_name=0!=Number(t.config.util.getValue(t.config.ymq_option_branding.extra,"qty-with-name",0))}init(){this.initMemberVariables()}buildtHtml(){var t=this;return Object.keys(t.json).forEach((function(i){switch(t.beforeCreat(i),t.selectedYmqOption.type.toString()){case"1":t.creatField().doCreatOptionHtml();break;case"2":t.creatArea().doCreatOptionHtml();break;case"3":t.creatSelect().doCreatOptionHtml().initDropdown();break;case"4":t.creatRadio().doCreatOptionHtml();break;case"15":t.creatRadioButton().doCreatOptionHtml();break;case"5":t.creatCanvas().doCreatOptionHtml();break;case"6":t.creatCheckbox().doCreatOptionHtml();break;case"16":t.creatCheckboxButton().doCreatOptionHtml();break;case"7":t.creatSelect("multiple").doCreatOptionHtml().initDropdown();break;case"8":t.creatCanvas("checkbox").doCreatOptionHtml();break;case"9":case"10":t.creatDate().doCreatOptionHtml().initData();break;case"11":t.creatCustomeText().doCreatOptionHtml();break;case"12":t.creatFile().doCreatOptionHtml().initFile();break;case"13":t.creatSwitch().doCreatOptionHtml();break;case"14":t.creatColorPick().doCreatOptionHtml().initColpick();break;case"17":t.creatLayout().doCreatOptionHtml();break;case"18":t.creatFixedQuantity().doCreatOptionHtml();break;case"19":t.creatFixedQuantity(19).doCreatOptionHtml();break;case"100":t.setJson(t.config.ymq_option_template[t.config.tem_prefix+t.selectedYmqOption.id],t.config.ymq_option_template_condition[t.config.tem_prefix+t.selectedYmqOption.id]).buildtHtml().setJson(t.config.ymq_option_data,t.config.ymq_option_condition)}})),t}validateIsHasLabel(){return this.selectedYmqOption.label,this}beforeCreat(t){var i=this;if(i.selectedYmqOption=i.json[t],this.selectedYmqOption.hasOwnProperty("isShopify")?i.isShopify=!0:i.isShopify=!1,!i.isShopify){var e=ymqJq(`[name="${i.creatName(ymqJq(this).data("label"))}"]`);if(e.length>=1&&-1==ymqJq.inArray(i.selectedYmqOption.label,i.needAddLabel)){i.needAddLabel.push(i.selectedYmqOption.label);var n=e.eq(0).parents(".ymq-options-box"),o=i.creatName(n.data("label")+n.data("id"));n.attr("data-name",o),e.each((function(){e.prop("name",o)}))}}return i.selectedQtyInput=1==Number(i.config.util.getValue(i.selectedYmqOption,"qty_input",0)),(i.isShopify||window.ymq_option.ymq_option_branding.extra.plan<2)&&(i.selectedQtyInput=!1),i.selectedQtyInputFlexClass="",-1==ymqJq.inArray(i.selectedYmqOption.type.toString(),i.config.qty_inline)&&-1==ymqJq.inArray(Number(i.selectedYmqOption.type),i.config.qty_inline)||(i.selectedQtyInputFlexClass="ymq-qty-input-item-flex"),i.validateIsHasLabel(),i.buildValidate(),i.buildTooltip(),i.buildAlert(),i.buildHelp(),i}buildValidate(){var t=this;if(t.validate=[],1==Number(t.selectedYmqOption.required)&&t.validate.push("required"),(1==Number(t.selectedYmqOption.type)&&1==Number(t.selectedYmqOption.field_type)||2==Number(t.selectedYmqOption.type))&&(t.selectedYmqOption.min_char>0&&t.validate.push("minchar:"+t.selectedYmqOption.min_char),t.selectedYmqOption.max_char>0&&t.validate.push("maxchar:"+t.selectedYmqOption.max_char)),t.selectedYmqOption.hasOwnProperty("min_s")&&t.selectedYmqOption.min_s>0&&t.validate.push("min_s:"+t.selectedYmqOption.min_s),t.selectedYmqOption.hasOwnProperty("max_s")&&t.selectedYmqOption.max_s>0&&t.validate.push("max_s:"+t.selectedYmqOption.max_s),1==Number(t.selectedYmqOption.type))switch(t.selectedYmqOption.field_type){case"2":t.validate.push("email");break;case"3":t.validate.push("phone");break;case"4":t.validate.push("number"),t.selectedYmqOption.min>0&&t.validate.push("numbermin:"+t.selectedYmqOption.min),t.selectedYmqOption.max>0&&t.validate.push("numbermax:"+t.selectedYmqOption.max);break;case"5":t.selectedYmqOption.min>0&&t.validate.push("numbermin:"+t.selectedYmqOption.min),t.selectedYmqOption.max>0&&t.validate.push("numbermax:"+t.selectedYmqOption.max),t.validate.push("integer")}return t.validate.length>0?t.validate='data-validate="'+t.validate.join("|")+'"':t.validate="",t}buildTooltip(){var t=this;t.tool_text="",""!=t.selectedYmqOption.tooltip&&(t.tool_text=`<span class="ymq_tools ymq_tool_span" data-title="${t.selectedYmqOption.tooltip}"></span>`)}buildAlert(){var t=this;if(t.alert_text="",t.selectedYmqOption.hasOwnProperty("a_t1")||(t.selectedYmqOption.a_t1="",t.selectedYmqOption.a_t2="",t.selectedYmqOption.alert_text=""),t.selectedYmqOption.hasOwnProperty("alert_text")&&""!=t.selectedYmqOption.alert_text){var i="";""==!t.selectedYmqOption.a_t2&&(i=`<img class="ymq_img_alert" src="${t.selectedYmqOption.a_t2}">`),t.alert_text=`\n                    <div class="ymq_alert_box2" data-ymq-id="ymqdialogbox${t.selectedYmqOption.id}">\n                        ${i+t.selectedYmqOption.a_t1}\n                    </div>`,ymqJq("body").append(`\n                    <div id="ymqdialogbox${t.selectedYmqOption.id}" data-width="${t.selectedYmqOption.a_width}" class="ymq-modal">\n                      <span class="close-ymq-modal">\n                          &#215;\n                      </span>\n                      <div class="ymq-modal-content">\n                          ${t.selectedYmqOption.alert_text}\n                      </div>\n                    </div>\n                `)}}buildHelp(){var t=this;t.help_text="",""!=t.selectedYmqOption.help&&(t.help_text=`<div class="ymq_help_box">${t.selectedYmqOption.help}</div>`)}doCreatOptionHtml(){var t=this,i="",e="",n="",o="",a="",r=Number(t.config.util.getValue(this.selectedYmqOption,"hide_title",0));if(null==t.selectedYmqOption)return t;if([18,19].includes(Number(t.selectedYmqOption.type))&&window.ymq_option.ymq_option_branding.extra.plan<3)return t;1==Number(t.selectedYmqOption.required)&&(a="required");var m=!0;if([18,19].includes(Number(t.selectedYmqOption.type))&&ymqJq.isEmptyObject(t.selectedYmqOption.options)&&(m=!1),11!=t.selectedYmqOption.type&&17!=t.selectedYmqOption.type&&m){i=`<div ${1==r?'style="display:none;"':""} class="${t.config.ymq_option_title}"><span class="ymq_lable ${a}">${t.selectedYmqOption.label}</span>${t.alert_text}${t.tool_text}<span class="ymq_option_text_span"></span><span class="ymq_option_price_span"></span></div>`;1==Number(t.selectedYmqOption.tooltip_position)?e=t.help_text:2==Number(t.selectedYmqOption.tooltip_position)?n=t.help_text:o=t.help_text}return this.optionHtml=`\n                <div \n                    class="ymq-options-box ymq-options-box-${this.selectedYmqOption.type} ${t.selectedQtyInput?"ymq-options-qty-box":""} ${this.isShopify?"ymq-shopify-option-box":""} ${t.config.util.getValue(t.selectedYmqOption,"class","")}" \n                    id="${t.config.box_prefix}${this.selectedYmqOption.id}"\n                    data-type="${this.selectedYmqOption.type}"\n                    data-id="-${t.selectedYmqOption.id.toString().split("tem").join("-")}"\n                    data-ymq-add-to-cart="${t.config.util.getValue(t.selectedYmqOption,"is_get_to_cart",1)}"\n                    data-name="${this.creatName()}"\n                    data-label="${t.config.util.htmlSpecialChars(this.selectedYmqOption.label)}"\n                    data-onetime="${this.getOneTime()}"\n                    data-class="${t.config.attrib_prefix}${t.selectedYmqOption.id}"\n                    ${t.validate}\n                >\n                    ${n}\n                    ${i}\n                    ${o}\n                    ${t.optionHtml}\n                    <div class="ymq-error-box"></div>\n                    ${e}\n                </div>\n            `,""!=t.optionHtml&&ymqJq("#ymq-box").append(t.optionHtml),t}getOneTime(){return this.config.util.getValue(this.selectedYmqOption,"onetime","0")}creatColorPick(){var t=this;return t.optionHtml=`\n                <div class="ymq-input-color-box">\n                    <input readonly class="ymq-input-text ymq-input-color ${t.config.attrib_prefix}${t.selectedYmqOption.id}" type="text" id="${t.config.attrib_prefix}${t.selectedYmqOption.id}" data-id="${t.selectedYmqOption.id}" data-one_time="${t.selectedYmqOption.one_time}" data-price="${t.selectedYmqOption.price}" value="" name="${t.creatName()}">\n                    <div class="ymq-input-color-button"></div>\n                </div>\n            `,t}creatAccept(){var t="";return 1==this.selectedYmqOption.file_type&&(t='accept="image/*"'),t}creatFileMultiple(){var t=this,i='multiple="multiple"';return(1==t.selectedYmqOption.file_num||0!=t.config.util.getValue(t.selectedYmqOption,"cropped_type","0"))&&(i=""),i}creatFile(){var t=this;return t.optionHtml=`\n                <div class="ymq_upload_new_box">\n                    <div class="ymq_upload_img_view spotlight-group">\n                        <label data-show="" id="ymq_upload${t.selectedYmqOption.id}" class="ymq_upload_new" style="z-index: 1;">\n                            <input ${t.creatAccept()} ${this.creatFileMultiple()} type="file" data-file-num="${t.selectedYmqOption.file_num}" data-rectangle-ratio="${t.config.util.getValue(t.selectedYmqOption,"rectangle_ratio","")}" data-file-type="${t.selectedYmqOption.file_type}" data-cropper="${t.config.util.getValue(t.selectedYmqOption,"cropped_type","0")}" style="display: none;" class="${t.config.attrib_prefix}${t.selectedYmqOption.id} ymq-options-file-input" name="${t.creatName()}" data-price="${t.selectedYmqOption.price}" id="${t.config.attrib_prefix}${t.selectedYmqOption.id}">\n                            <svg class="icon" style="width: 24px; height: 24px;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2737"><path d="M662.63 545.37l-128-128a32 32 0 0 0-45.25 0l-128 128a32 32 0 1 0 45.25 45.25L480 517.25V872a32 32 0 0 0 64 0V517.25l73.37 73.37a32 32 0 1 0 45.25-45.25zM752 760H640a32 32 0 0 1 0-64h112c79.4 0 144-64.6 144-144a144 144 0 0 0-132.45-143.54 32 32 0 0 1-29.24-28C720.6 268.46 625 184 512 184s-208.6 84.46-222.31 196.45a32 32 0 0 1-29.24 28A144 144 0 0 0 128 552c0 79.4 64.6 144 144 144h112a32 32 0 0 1 0 64H272c-114.69 0-208-93.31-208-208a208.08 208.08 0 0 1 166.23-203.79C258 216.5 375 120 512 120s254 96.5 281.77 228.21A208.08 208.08 0 0 1 960 552c0 114.69-93.31 208-208 208z" p-id="2738"></path></svg>\n                        </label>\n                    </div>\n                </div>\n                <div class="ymq_upload_box ymq_upload_file_view">\n\n                </div>\n            `,t}creatSwitch(){var t=this;return t.optionHtml=`\n                \n                <div>\n                    <input class="ymq-checkbox-radio ymq-Switch ${t.config.attrib_prefix}${t.selectedYmqOption.id}" type="checkbox" id="${t.config.attrib_prefix}${t.selectedYmqOption.id}" data-id="${t.selectedYmqOption.id}" data-one_time="${t.selectedYmqOption.one_time}" data-price="${t.selectedYmqOption.price}" value="${t.selectedYmqOption.switch_text}" name="${t.creatName()}" id="tool-${t.selectedYmqOption.id}" ${1==Number(t.selectedYmqOption.default)?"checked":""}>\n                    <label for="${t.config.attrib_prefix}${t.selectedYmqOption.id}">${t.selectedYmqOption.switch_text}</label>\n                </div>\n            `,t}creatField(){var t=this,i="";""!=t.selectedYmqOption.default_text&&null!=t.selectedYmqOption.default_text&&(i=`value="${t.selectedYmqOption.default_text}"`);var e="";return""!=t.selectedYmqOption.placeholder&&null!=t.selectedYmqOption.placeholder&&(e=`placeholder="${t.selectedYmqOption.placeholder}"`),t.optionHtml=`\n                <input ${i} ${e} class="ymq-input-text ${t.config.attrib_prefix}${t.selectedYmqOption.id}" type="text" name="${t.creatName()}" data-price="${t.selectedYmqOption.price}" id="${t.config.attrib_prefix}${t.selectedYmqOption.id}">\n            `,t}creatCustomeText(){var t=this;return t.optionHtml=`\n                <div class="ymq_custome_text">${t.selectedYmqOption.html}</div>\n            `,t}creatLayout(){var t=this;t.selectedYmqOption.hasOwnProperty("a_t1")||(t.selectedYmqOption.a_t1="",t.selectedYmqOption.a_t2="",t.selectedYmqOption.a_width="700",t.selectedYmqOption.alert_text="");var i="";return""==!t.selectedYmqOption.a_t2&&(i=`<img class="ymq_img_alert" src="${t.selectedYmqOption.a_t2}">`),""!=t.selectedYmqOption.alert_text?(t.optionHtml=`\n                    <div class="ymq_alert_box" data-ymq-id="ymqdialogbox${t.selectedYmqOption.id}">\n                        ${i+t.selectedYmqOption.a_t1}\n                    </div>\n                `,ymqJq("body").append(`\n                    <div id="ymqdialogbox${t.selectedYmqOption.id}" data-width="${t.selectedYmqOption.a_width}" class="ymq-modal">\n                      <span class="close-ymq-modal">\n                          &#215;\n                      </span>\n                      <div class="ymq-modal-content">\n                          ${t.selectedYmqOption.alert_text}\n                      </div>\n                    </div>\n                `)):t.optionHtml="",t}creatArea(){var t=this,i="";""!=t.selectedYmqOption.default_text&&null!=t.selectedYmqOption.default_text&&(i=t.selectedYmqOption.default_text);var e="";return""!=t.selectedYmqOption.placeholder&&null!=t.selectedYmqOption.placeholder&&(e=`placeholder="${t.selectedYmqOption.placeholder}"`),t.optionHtml=`\n                <textarea ${e} class="ymq-input-text ${t.config.attrib_prefix}${t.selectedYmqOption.id}" data-price="${t.selectedYmqOption.price}" name="${t.creatName()}" id="${t.config.attrib_prefix}${t.selectedYmqOption.id}">${i}</textarea>\n            `,t}creatSelect(t=""){var i=this,e=i.selectedYmqOption.options,n=i.conditionJson,o=Number(i.config.util.getValue(i.selectedYmqOption,"strong-dorp-down",2)),a=Number(i.config.util.getValue(i.config.ymq_option_branding.extra,"strong-dorp-down",1));2==Number(o)&&(o=a);var r="",m="",c="ymq-no-strong-drop-down";1==o&&(r='style="display: none;"',m="multiple",c=""),"multiple"==t&&(m="multiple",i.selectedQtyInputFlexClass="");var s='<div class="ymq-multiple-select-qty-wrappe">',l="";for(var d in i.optionHtml="",i.selectedQtyInput&&(i.optionHtml+=`<div class="ymq-qty-input-item ${i.selectedQtyInputFlexClass} ymq-qty-input-item-${i.selectedYmqOption.id}" id="ymq-qty-input-item-${i.selectedYmqOption.id}" data-id="${i.selectedYmqOption.id}">`),i.optionHtml+=`\n                    <select ${r} ${m} name="${i.creatName()}"  id="${i.config.attrib_prefix}${i.selectedYmqOption.id}" class="${c} ymq-dropdown ${i.config.attrib_prefix}${i.selectedYmqOption.id} ${"multiple"==t?"ymq-multiple":""} ${i.isShopify?"ymq-shopify-option":""}" placeholder="${i.config.ymq_option_branding.lan.please_choose}">\n            `,1==o||i.isShopify||(i.optionHtml+=`\n                    <option class="ymq-options-default" value="">${i.config.ymq_option_branding.lan.please_choose}</option>\n                `),e){var p=e[d],y="",u="",q="";0==Number(p.hasstock)?(y=`data-title="${i.config.ymq_option_branding.lan.sold_out}"`,u="ymq_disabled_class ymq_sold_out",q="disabled",p.default=0):n.hasOwnProperty(p.id)&&(y=`data-title="${n[p.id].disabled_text}"`,u="ymq_disabled_class ymq_condition_disabled"),i.optionHtml+=`\n                    <option ${y} ${q} ${1==Number(p.default)?"selected":""} class="${i.config.attrib_item_prefix}${p.id} ${u}" id="${i.config.attrib_prefix}${p.id}" data-id="${p.id}" data-one_time="${p.one_time}" data-price="${p.price}" value="${p.value}">${p.value}${i.config.getSelectButtonPrice(p.price,i.selectedYmqOption.type.toString())}</option>\n                `,l+=`ymq-qty-input-${p.id} `,"multiple"==t&&(s+=`<div class="ymq-qty-input-wrappe-div ymq-qty-input-wrappe-div-${i.selectedYmqOption.id}" id="ymq-qty-input-wrappe-div-${p.id}" data-id="${p.id}">${i.config.qty_input_text}${i.config.multiple_select_qty_with_name?"("+p.value+")":""}<input value="1" min="1" class="ymq-qty-input ymq-qty-input-${i.selectedYmqOption.id} ymq-qty-input-${p.id}" id="ymq-qty-input-${p.id}" data-id="${p.id}" type="number"></div>`)}return i.optionHtml+="\n                    </select>\n            ",i.selectedQtyInput&&(i.optionHtml+="multiple"==t?`${s}</div></div>`:`<div class="ymq-qty-input-wrappe-div ymq-qty-input-wrappe-div-${i.selectedYmqOption.id}" id="ymq-qty-input-wrappe-div-${p.id}" data-id="${p.id}">${i.config.qty_input_text}<input value="1" min="1" class="ymq-qty-input ymq-qty-input-${i.selectedYmqOption.id} ${l}" id="ymq-qty-input-${i.selectedYmqOption.id} ${l}" data-id="${i.selectedYmqOption.id}" type="number"></div></div>`),i}creatCheckboxButton(){return this.creatrcbtn("checkbox"),this}creatRadioButton(){return this.creatrcbtn(),this}creatrcbtn(t="radio"){var i=this,e=this.selectedYmqOption.options,n=i.conditionJson;for(var o in this.optionHtml="\n                    \n                    <div>\n                ",e){var a=e[o],r="",m="",c="";0==Number(a.hasstock)?(r=`data-title="${i.config.ymq_option_branding.lan.sold_out}"`,m="ymq_disabled_class ymq_sold_out",c="disabled"):n.hasOwnProperty(a.id)&&(r=`data-title="${n[a.id].disabled_text}"`,m="ymq_disabled_class ymq_condition_disabled"),i.selectedQtyInput&&(i.optionHtml+=`<div class="ymq-qty-input-item ${i.selectedQtyInputFlexClass} ymq-qty-input-item-${i.selectedYmqOption.id} ${i.config.attrib_item_prefix}${a.id}" id="ymq-qty-input-item-${a.id}" data-id="${a.id}">`),this.optionHtml+=`\n                    <input ${c} ${r} class="ymq-options-button-input ${m} ${i.isShopify?"ymq-shopify-option":""} ${i.config.attrib_prefix}${i.selectedYmqOption.id}" id="${i.config.attrib_prefix}${a.id}" data-id="${a.id}" data-one_time="${a.one_time}" data-price="${a.price}" value="${a.value}" type="${t}" name="${i.creatName()}" id="tool-${a.id}" ${1==Number(a.default)?"checked":""}>\n                    <label ${r} class="ymq-options-button-label ${i.config.attrib_item_prefix}${a.id}" for="${i.config.attrib_prefix}${a.id}">\n                        ${a.value}${i.config.getSelectButtonPrice(a.price,i.selectedYmqOption.type.toString())}\n                    </label>\n                `,i.selectedQtyInput&&(i.optionHtml+=`<div class="ymq-qty-input-wrappe-div ymq-qty-input-wrappe-div-${i.selectedYmqOption.id}" id="ymq-qty-input-wrappe-div-${a.id}" data-id="${a.id}">${i.config.qty_input_text}<input value="1" min="1" class="ymq-qty-input ymq-qty-input-${i.selectedYmqOption.id} ymq-qty-input-${a.id}" id="ymq-qty-input-${a.id}" data-id="${a.id}" type="number"></div></div>`)}return this.optionHtml+="\n                    </div>\n            ",i}creatFixedQuantity(t=18){var i=this,e=this.selectedYmqOption.options,n=(i.conditionJson,1),o=i.config.util.getValue(i.config.ymq_option_branding.lan,"q-buy","Buy:"),a=i.config.util.getValue(i.config.ymq_option_branding.lan,"q-save","Save");if(1==i.config.hasQuantity)return this.optionHtml="",i.selectedYmqOption=null,i;if(i.config.hasQuantity=!0,i.config.quantity={},i.config.quantity.defalut_quantity=i.config.min_quantity,i.config.quantity.type=t,i.config.quantity.options={},18==Number(t)&&(i.config.quantity_is_fix_type=!0),ymqJq.isEmptyObject(e))this.optionHtml=`<input value="222"  type="hidden" name="${i.creatName()}" >`,i.config.quantity_has_value=!1;else{for(var r in this.optionHtml="\n                        <div>\n                    ",e){var m=e[r];i.config.quantity.options[Number(m.quantity)]={quantity:Number(m.quantity),discount:Number(m.discount),discount_type:Number(m.discount_type)}}if(i.config.quantity.options[0]={quantity:0,discount:0,discount_type:2},19==t){var c="",s=0;for(var r in i.config.quantity.options){i.config.quantity.options[r];""!=c&&(i.config.quantity.options[c].quantity_max=r-1),1==s&&i.config.min_quantity>r&&(i.config.min_quantity=Number(r)),i.config.max_quantity<r&&(i.config.max_quantity=Number(r)),s++,i.config.quantity.options[r].quantity_max=i.config.max_num,c=r}}console.log(i.config.quantity.options,i.config.min_quantity,i.config.max_quantity),Object.keys(e).forEach((function(r,m){var c=e[r],s="";s=1==Number(c.discount_type)?`${c.discount}%`:`-${i.config.doFormat(c.discount)}`;var l="";if(l=""==c.discount||0==Number(c.discount)?`<span style="display:none !important;" class="ymq-quantity-discount-price" data-quantity="${c.quantity}" data-discount="${c.discount}" data-discount_type="${c.discount_type}">${i.config.doFormat(80)}</span><span class="ymq-quantity-compared-price-no-discount" data-quantity="${c.quantity}">${i.config.doFormat(100)}</span>`:`<span class="ymq-quantity-discount-price" data-quantity="${c.quantity}" data-discount="${c.discount}" data-discount_type="${c.discount_type}">${i.config.doFormat(80)}</span><span class="ymq-quantity-compared-price" data-quantity="${c.quantity}">${i.config.doFormat(100)}</span><span class="ymq-quantity-discount">${1==Number(c.discount_type)?a:""} ${s}</span>`,19==t){var d=!1;1==Number(c.default)&&(i.config.quantity.defalut_quantity=Number(c.quantity))}else{if(1==n){d=!0;i.config.quantity.defalut_quantity=Number(c.quantity)}else d=!1;1==Number(c.default)&&(i.config.quantity.defalut_quantity=Number(c.quantity))}i.optionHtml+=`\n                    <div class="ymq-quantity-radio-box">\n                        <input data-index="${m}" value="${c.quantity}"  class="ymq-checkbox-radio ymq-quantity-radio ymq-quantity-radio-${c.quantity}  ${i.isShopify?"ymq-shopify-option":""} ${i.config.attrib_prefix}${i.selectedYmqOption.id}" id="${i.config.attrib_prefix}${c.id}" data-id="${c.id}" type="radio" name="${i.creatName()}" id="tool-${c.id}" ${1==Number(c.default)||d?"checked":""}>\n                        <label class="ymq-quantity-radio-label" for="${i.config.attrib_prefix}${c.id}"><span class="ymq-quantity-buy">${o}</span><span class="ymq-quantity-buy-quantity">${c.quantity}${19==t?"+":""}</span>${l}</label>\n                    </div>\n                    `,n++})),19==t&&(this.optionHtml+=`\n                    <div class="ymq-quantity-show-box ymq-quantity-radio-box">\n                        <span><span class="ymq-quantity-buy">${o} </span><span class="ymq-quantity-buy-quantity">99+</span><span class="ymq-quantity-discount-price"></span><span class="ymq-quantity-compared-price"></span><span class="ymq-quantity-discount"> -€10.00</span></span>\n                    </div>\n                    `),this.optionHtml+="\n                        </div>\n                "}return i}creatCheckbox(){return this.creatrc("checkbox"),this}creatRadio(){return this.creatrc(),this}creatrc(t="radio"){var i=this,e=this.selectedYmqOption.options,n=i.conditionJson;for(var o in this.optionHtml="\n                    <div>\n                ",e){var a=e[o],r="",m="",c="";0==Number(a.hasstock)?(r=`data-title="${i.config.ymq_option_branding.lan.sold_out}"`,m="ymq_disabled_class ymq_sold_out",c="disabled"):n.hasOwnProperty(a.id)&&(r=`data-title="${n[a.id].disabled_text}"`,m="ymq_disabled_class ymq_condition_disabled"),i.selectedQtyInput&&(i.optionHtml+=`<div class="ymq-qty-input-item ${i.selectedQtyInputFlexClass} ymq-qty-input-item-${i.selectedYmqOption.id} ${i.config.attrib_item_prefix}${a.id}" id="ymq-qty-input-item-${a.id}" data-id="${a.id}">`),this.optionHtml+=`\n                <div class="ymq_r_c_box ${i.config.attrib_item_prefix}${a.id}">\n                    <input ${c} ${r} class="ymq-checkbox-radio ${m} ${i.isShopify?"ymq-shopify-option":""} ${i.config.attrib_prefix}${i.selectedYmqOption.id}" id="${i.config.attrib_prefix}${a.id}" data-id="${a.id}" data-one_time="${a.one_time}" data-price="${a.price}" value="${a.value}" type="${t}" name="${i.creatName()}" id="tool-${a.id}" ${1==Number(a.default)?"checked":""}>\n                    <label ${r} for="${i.config.attrib_prefix}${a.id}">${a.value} ${i.config.getSelectButtonPrice(a.price,i.selectedYmqOption.type.toString())}</label>\n                </div>\n                `,i.selectedQtyInput&&(i.optionHtml+=`<div class="ymq-qty-input-wrappe-div ymq-qty-input-wrappe-div-${i.selectedYmqOption.id}" id="ymq-qty-input-wrappe-div-${a.id}" data-id="${a.id}">${i.config.qty_input_text}<input value="1" min="1" class="ymq-qty-input ymq-qty-input-${i.selectedYmqOption.id} ymq-qty-input-${a.id}" id="ymq-qty-input-${a.id}" data-id="${a.id}" type="number"></div></div>`)}return this.optionHtml+="\n                    </div>\n            ",i}creatCanvas(t="radio"){var i=this,e=i.selectedYmqOption.options,n=i.conditionJson,o=!1,a=!1;1==i.config.util.getValue(i.config.ymq_option_branding.extra,"img-option-bigger",1)&&(o=!0),2==i.config.util.getValue(i.config.ymq_option_branding.extra,"img-option-bigger",1)&&(a=!0),3==i.config.util.getValue(i.config.ymq_option_branding.extra,"img-option-bigger",1)&&(o=!0,a=!0);var r="";i.selectedYmqOption.hasOwnProperty("style")&&2==Number(i.selectedYmqOption.style)&&(2==Number(i.selectedYmqOption.zoom)?(o=!0,a=!1):3==Number(i.selectedYmqOption.zoom)?(o=!1,a=!1):4==Number(i.selectedYmqOption.zoom)?(o=!1,a=!0):5==Number(i.selectedYmqOption.zoom)&&(o=!0,a=!0),""!=i.selectedYmqOption.width&&(r+=`width:${i.selectedYmqOption.width}px;`),""!=i.selectedYmqOption.height&&(r+=`height:${i.selectedYmqOption.height}px;`),""!=i.selectedYmqOption.b_radius&&(r+=`border-radius: ${i.selectedYmqOption.b_radius}px;`)),this.optionHtml='\n                    <div class="spotlight-group">\n                ';var m=!1;for(var c in 1==Number(i.config.util.getValue(i.config.ymq_option_branding.extra,"show-canvas-text",0))&&(m=!0),e){var s=e[c],l="",d="",p="";0==Number(s.hasstock)?(l=`data-title="${i.config.ymq_option_branding.lan.sold_out}"`,d="ymq_disabled_class ymq_sold_out",p="disabled"):n.hasOwnProperty(s.id)&&(l=`data-title="${n[s.id].disabled_text}"`,d="ymq_disabled_class ymq_condition_disabled");var y=s.value;i.selectedQtyInput&&(i.optionHtml+=`<div class="ymq-qty-input-item ${i.selectedQtyInputFlexClass} ymq-qty-input-item-${i.selectedYmqOption.id} ${i.config.attrib_item_prefix}${s.id}" id="ymq-qty-input-item-${s.id}" data-id="${s.id}">`),2==s.canvas_type?(a&&(y=`<img class='ymq_tooltip_switch_img' src='${s.canvas2}'><br>${s.value}`),this.optionHtml+=`\n                        ${m?'<label class="ymq-canvas-box '+i.config.attrib_item_prefix+s.id+'" for='+i.config.attrib_prefix+s.id+">":""}\n                        <input ${p} ${l} class="ymq-options-img-input ${d} ${i.isShopify?"ymq-shopify-option":""} ${i.config.attrib_prefix}${i.selectedYmqOption.id}" id="${i.config.attrib_prefix}${s.id}" data-id="${s.id}" data-one_time="${s.one_time}" data-price="${s.price}" value="${s.value}" type="${t}" name="${i.creatName()}" id="tool-${s.id}" ${1==Number(s.default)?"checked":""}>\n                        <label ${l} data-show="${y}" style="${r}background: url(${i.config.util.getShopifySmallImg(s.canvas2)}) center top / cover;" class="ymq-options-img-label ymq-dicopy ${i.config.attrib_item_prefix}${s.id}" data-addclass="ymq_tooltip_switch_img_box" for="${i.config.attrib_prefix}${s.id}">\n                        `,o&&(this.optionHtml+=`\n                        <div class="spotlight" data-src="${s.canvas2}" data-description="${s.value}"></div>\n                        `),i.config.util.getValue(i.config.ymq_option_branding.img,"--img-selected-upper-url","")&&(this.optionHtml+=`<img class="ymq-selected-img-up-img ymq-img-up-img" src="${i.config.util.getValue(i.config.ymq_option_branding.img,"--img-selected-upper-url","")}" alt="">`),i.config.util.getValue(i.config.ymq_option_branding.img,"--img-disabled-upper-url","")&&(this.optionHtml+=`<img class="ymq-disabled-img-up-img ymq-img-up-img" src="${i.config.util.getValue(i.config.ymq_option_branding.img,"--img-disabled-upper-url","")}" alt="">`),this.optionHtml+=`\n                        </label>\n                        ${m?'<span class="ymq-canvas-text">'+s.value+"</span></label>":""}\n                    `):(this.optionHtml+=`\n                        ${m?'<label class="ymq-canvas-box '+i.config.attrib_item_prefix+s.id+'" for='+i.config.attrib_prefix+s.id+">":""}\n                        <input ${p} ${l} class="ymq-options-img-input ${d} ${i.isShopify?"ymq-shopify-option":""} ${i.config.attrib_prefix}${i.selectedYmqOption.id}" id="${i.config.attrib_prefix}${s.id}" data-id="${s.id}" data-one_time="${s.one_time}" data-price="${s.price}" value="${s.value}" type="${t}" name="${i.creatName()}" id="tool-${s.id}" ${1==Number(s.default)?"checked":""}>\n                        <label ${l} data-show="${y}" style="${r}background-color: #${s.canvas1};" class="ymq-options-img-label ymq-dicopy ${i.config.attrib_item_prefix}${s.id}" for="${i.config.attrib_prefix}${s.id}">\n                        \n                    `,i.config.util.getValue(i.config.ymq_option_branding.img,"--img-selected-upper-url","")&&(this.optionHtml+=`<img class="ymq-selected-img-up-img ymq-img-up-img" src="${i.config.util.getValue(i.config.ymq_option_branding.img,"--img-selected-upper-url","")}" alt="">`),i.config.util.getValue(i.config.ymq_option_branding.img,"--img-disabled-upper-url","")&&(this.optionHtml+=`<img class="ymq-disabled-img-up-img ymq-img-up-img" src="${i.config.util.getValue(i.config.ymq_option_branding.img,"--img-disabled-upper-url","")}" alt="">`),this.optionHtml+=`\n                        </label>\n                        ${m?'<span class="ymq-canvas-text">'+s.value+"</span></label>":""}\n                    `),i.selectedQtyInput&&(i.optionHtml+=`<div class="ymq-qty-input-wrappe-div ymq-qty-input-wrappe-div-${i.selectedYmqOption.id}" id="ymq-qty-input-wrappe-div-${s.id}" data-id="${s.id}">${i.config.qty_input_text}<input value="1" min="1" class="ymq-qty-input ymq-qty-input-${i.selectedYmqOption.id} ymq-qty-input-${s.id}" id="ymq-qty-input-${s.id}" data-id="${s.id}" type="number"></div></div>`)}return this.optionHtml+="\n                </div>\n            ",i}creatDate(){var t=this;return t.optionHtml=`\n                    \n                    <input class="ymq-input-text ${t.config.attrib_prefix}${t.selectedYmqOption.id}" data-price="${t.selectedYmqOption.price}" readonly type="text" name="${t.creatName()}" id="${t.config.attrib_prefix}${t.selectedYmqOption.id}">\n            `,t}creatMultipleName(t){return t}creatName(t=null){var i=this;return t?i.creatMultipleName(`properties[${t}]`):i.isShopify?"ymq-option"+(i.selectedYmqOption.optionsIndex- -1):-1!=ymqJq.inArray(i.selectedYmqOption.label,i.needAddLabel)?i.creatMultipleName(`properties[${i.selectedYmqOption.label}-${i.selectedYmqOption.id.toString().split("tem").join("-")}]`):i.creatMultipleName(`properties[${i.selectedYmqOption.label}]`)}YmqGetDay(t=0){t=Number(t);var i=new Date;return i.setDate(i.getDate()+t),i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()}initData(){var t=this,i={};i={theme:t.config.ymq_jedateblue,isToday:!1,onClose:!1,trigger:"click",language:t.config.ymq_enLang,format:t.selectedYmqOption.date_format,donefun:function(t){ymqJq(t.elem).change()}},10==Number(t.selectedYmqOption.type)&&(i.range=" ~ ",i.multiPane=!1);var e="",n="";1==Number(t.selectedYmqOption.date_minDateType)?e=(new Date).Format("yyyy-MM-dd")+" ":2==Number(t.selectedYmqOption.date_minDateType)?""!=t.selectedYmqOption.min_date&&(e=t.selectedYmqOption.min_date+" "):3==Number(t.selectedYmqOption.date_minDateType)&&(e=t.YmqGetDay(t.config.util.getValue(t.selectedYmqOption,"min_days",1))),1==Number(t.selectedYmqOption.date_maxDateType)?n=(new Date).Format("yyyy-MM-dd")+" ":2==Number(t.selectedYmqOption.date_maxDateType)?""!=t.selectedYmqOption.max_date&&(n=t.selectedYmqOption.max_date+" "):3==Number(t.selectedYmqOption.date_maxDateType)&&(n=t.YmqGetDay(t.config.util.getValue(t.selectedYmqOption,"max_days",1))),e+t.selectedYmqOption.min_time!=""&&(i.minDate=e+t.selectedYmqOption.min_time),n+t.selectedYmqOption.max_time!=""&&(i.maxDate=n+t.selectedYmqOption.max_time);var o="";t.selectedYmqOption.day_limit.length>0&&(o="%"+t.selectedYmqOption.day_limit.join(",%"));var a="";return t.selectedYmqOption.weekly_limit.length>0&&(a="ymq"+(a=t.selectedYmqOption.weekly_limit.join("-"))),o+a!=""&&(i.valiDate=[o+a,!1]),window.ymq_option.jeDate("#"+t.config.attrib_prefix+t.selectedYmqOption.id,i),this}initDropdown(t=null){var i=this;t||(t=ymqJq("#"+i.config.attrib_prefix+i.selectedYmqOption.id));try{t.find("option").each((function(){ymqJq(this).val()&&ymqJq(this).data("price")&&ymqJq(this).data("price")>0&&ymqJq(this).html(`${ymqJq(this).val()}${i.config.getSelectButtonPrice(ymqJq(this).data("price"),i.selectedYmqOption.type.toString())}`)}))}catch(t){}return t.dropdown({variantChange:function(t){t.hasClass("ymq-shopify-option")}}),i}initColpick(){var t=this;return ymqJq("#"+t.config.attrib_prefix+t.selectedYmqOption.id).colpick({submit:0,onChange:function(t,i,e,n,o){ymqJq(n).next().css("background","#"+i),ymqJq(n).val("#"+i),ymqJq(n).trigger("keyup")}}),t}initFile(){return this}setJson(t={},i={}){var e=this;return e.json=t,e.conditionJson=i,e}static getInstance(i){return this.instance||(this.instance=new t(i)),this.instance}},Product=class t{constructor(){var t=this;t.initConfig(),t.instance=null,t.variant=Variant.getInstance(),t.htmlBuilder=Html.getInstance(),t.validate=Validate.getInstance(),t.upload=Upload.getInstance(),t.init()}initMemberVariables(){var t=this;t.variantJson={},t.scriptArr=[],t.quantityDomInited=!1,t.conditionArr=[],t.formData={},t.selectedValue={},t.ymq_condition={},t.ymq_total_price=0,t.ymq_total_price_single=0,t.ymq_option_price=0,t.ymq_option_price_single=0,t.quantityback=0,t.ogFormData=new FormData,t.needchange=!0,t.paymentButtonDom=""}init(){this.initMemberVariables(),this.doHook("before_init_product").buildStyle().buildUploadModalDom().isShowBuyItNow().hideShopifyDomAndRegisterAddCartEvent().disabledJqEvent().getShopifySelectDom().buildShopifyDom().buildYmqDom().qtyInputIsDisabled().isRadioCanBeUnchecked().textAreaAutoHeight().triggerThemeOptions().buildQuantityDom().buildVariantConditionName().hidePaymentButton().doCancelAjaxCart().buildShowAddTotalPriceInfoDom().buildAddToCartDom().disabledSubmit().registerDeleteFileViewEvent().registerInputChangeEvent().buildFormData()}doHook(t){return this.config.ymqHook(t),this}qtyInputIsDisabled(){return ymqJq(".ymq-options-qty-box .ymq-qty-input").attr("disabled",!0),ymqJq(".ymq-options-qty-box select option:selected:not(:disabled),input[type=radio]:checked:not(:disabled),input[type=checkbox]:checked:not(:disabled)").each((function(){var t=ymqJq(this).data("id");t&&ymqJq(`.ymq-qty-input-${t}`).attr("disabled",!1)})),this}isShowBuyItNow(){var t=this;return t.config.hideByNow=!1,t.config.cancelAjaxCart=!1,0==Number(t.config.form_box_dom.find("[name='id']"))?(console.log(1),t.config.hideByNow=!0,t.config.cancelAjaxCart=!0,t):0==Number(t.config.util.getValue(t.config.ymq_option_branding.extra,"bunow","0"))?(console.log(1.1),t.config.hideByNow=!0,t.config.cancelAjaxCart=!0,t):(t.config.hideByNow=window.ymq_option.hideByNow,t.config.cancelAjaxCart=window.ymq_option.cancelAjaxCart,console.log(t.config.hideByNow,t.config.cancelAjaxCart,21321312),t)}registerDeleteFileViewEvent(){var t=this;return ymqJq(document).on("click",".ymq_upload_file_item_del",(function(){var i=ymqJq(this),e=i.data("name"),n=i.data("num");t.upload.fileData.hasOwnProperty(e)&&t.upload.fileData[e].hasOwnProperty(n)&&delete t.upload.fileData[e][n],i.parents(".ymq-options-box").find('input[type="file"]').change().parents(".ymq_upload_new").removeClass("ymq_disabled"),i.parents(".ymq_upload_file_item").fadeOut().remove()})),t}buildUploadModalDom(){return this}de(t,i,e,n,o){if(t){var a={};if(ymq.$&&(a=ymq.$._data(t))&&a.events&&a.events[i])for(var r=0;r<a.events[i].length;r+=1)a.events[i][r].namespace!=n&&""!=n||(a.events[i][r].handler=function(){});if((a=ymqJq._data(t))&&a.events&&a.events[i])for(r=0;r<a.events[i].length;r+=1)a.events[i][r].namespace!=n&&""!=n||(a.events[i][r].handler=function(){})}}disabledJqEvent(){var t=this;return t.intervalResult(1e4,100,(function(){return window.$&&$.fn&&$.fn.jquery?ymq.$=$:window.jQuery&&jQuery.fn&&jQuery.fn.jquery&&(ymq.$=jQuery),ymq.$?(t.buildQuantityDom(),console.log("shopify jq"),t.doAddCart(),!0):"complete"==document.readyState})),t}intervalResult(t,i,e,n){"function"==typeof t?(n=i,e=t,i=1e3,t=20):"function"==typeof i&&(n=e,e=i,i=1e3),"function"!=typeof e&&(e=function(){return!1});var o=0,a=setInterval((function(){++o>t||e(o)?clearInterval(a):"function"==typeof n&&n()}),i)}doCancelAjaxCart(){var t=this;return t.config.cancelAjaxCart||(ymqJq(document).on("click","body",(function(i){t.I.each((function(){if(ymqJq(this).length>0&&i.pageX>=ymqJq(this).offset().left&&i.pageX<=ymqJq(this).offset().left+ymqJq(this).outerWidth()&&i.pageY>=ymqJq(this).offset().top&&i.pageY<=ymqJq(this).offset().top+ymqJq(this).outerHeight())return t.controllerPaymentButton(!0,!0),!1}))})),t.controllerPaymentButton()),t}doAddCart(){var t=this,i=t.config.util.getValue(t.config.ymq_option_branding.extra,"cart-ajax","0");if(1==Number(i))return!1;if(!t.config.cancelAjaxCart)return!1;var e=t.config.form_box_dom;t.I.each((function(i,e){t.de(e,"click","namespace","","disable")})),t.I.on("click.ymq",(function(i){if(t.config.ymqHook("doAddCart_before_validate"),t.buildFormData().buildOtherFormData(),t.validate.validateAll(t.formData,!0),0!=t.validate.validateCount)return!1;t.config.ymqHook("doAddCart_after_validate"),t.buildFormData().buildOtherFormData();var n=ymqJq(this);if(t.startLoading(n),e.attr("action"))var o=e.attr("action").match(/\/(\w{2})\/cart\/add/);else o="".match(/\/(\w{2})\/cart\/add/);if(t.config.ymqHook("doAddCart_before_getAjaxData"),t.getAjaxDataByFormData(),t.ogFormData.set("quantity",t.getQuantity()),t.ogFormData.set("id",t.variant.variant_id),t.config.ymqHook("doAddCart_after_getAjaxData"),window.fbq){var a=0;if(t.config.variantData.hasOwnProperty(t.variant.variant_id)){var r=t.config.variantData[t.variant.variant_id],m=(a=r.price,{content_type:"product_group",content_ids:[t.config.product.id],currency:Shopify.currency.active,value:a/100+t.ymq_total_price,num_items:t.getQuantity(),content_name:r.title,content_category:t.config.product.type});"tecnologias-mjm.myshopify.com"==Shopify.shop?fbq("track","AddToCart",m,{event_id:t.ymqUUID()}):fbq("track","AddToCart",m),console.log("fbq done")}}ymqJq.ajax({type:"POST",url:"/cart/add",enctype:"multipart/form-data",processData:!1,contentType:!1,cache:!1,data:t.ogFormData}).done((function(i){t.config.ymqHook("doAddCart_success"),setTimeout((function(){t.endLoading(n)}),5e3);var e=t.config.util.getValue(t.config.ymq_option_branding.extra,"add-cart-url","");""==e?window.location.href=o?"/"+o[1]+"/cart":"/cart":0==e?location.reload():window.location.href=o?"/"+o[1]+`/${e}`:`/${e}`})).fail((function(i){if(t.config.ymqHook("doAddCart_error"),setTimeout((function(){t.endLoading(n)}),5e3),console.log(i),t.config.variantData.hasOwnProperty(t.variant.variant_id)){var e=t.config.variantData[t.variant.variant_id].name,o=t.config.util.getValue(t.config.ymq_option_branding.lan,"inventory_reminder","The product %s is already sold out.");alert(o.replace("%s",e))}})),i.stopImmediatePropagation(),i.preventDefault()}))}ymqUUID(){for(var t=[],i="0123456789abcdef",e=0;e<36;e++)t[e]=i.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=i.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}hideShopifyDomAndRegisterAddCartEvent(){for(var t=this,i=t.config.form_box_dom,e=t.config.shop,n=Shopify.theme.name.toLowerCase(),o=null,a=t.config.product,r=(["slimedotnet.myshopify.com","ridesharegear.myshopify.com","shoretees-ca.myshopify.com","winspear-picks.myshopify.com","sallureofficial.myshopify.com","the-million-roses-romania.myshopify.com","eventtechrentals.myshopify.com","hocwoman.myshopify.com","wigirlhair.myshopify.com","petshopmalta.myshopify.com","the2tails-mermaid-tails.myshopify.com","gwyllem.myshopify.com","kirudansk.myshopify.com","us-jewels-gems.myshopify.com","neweditionshop.myshopify.com","olemasonjar.myshopify.com","ronniemac69.myshopify.com","3bdshop0004.myshopify.com","teddy-winthrop.myshopify.com"].indexOf(e),ymqJq('\x3c!-- ymq custom product options by YMQ --\x3e\x3c!-- https://apps.shopify.com/ymq-options --\x3e<div id="ymq-box" class="ymq-box"></div>')),m=(i.find('[name="id"]'),ymqJq('<select id="test1111" name="id" style="display: none;"></select>')),c=0;c<a.variants.length;c+=1)m.append('<option value="'+a.variants[c].id+'"></option>');var s,l=[".productForm-block--options-inline .selector-wrapper",".swatches__container","#variations-content-product-template > .selector-wrapper",".product__variants__wrap",'.variations [class^="nt_select_pr_"]',".product__selectors .selector-wrapper, .selector-wrapper-secton .selector-wrapper",".ProductForm__Option","> .product-options.no-options > .product-type","div.select:not(.shopify-select)",".inline-field-wrapper","> .row > .col-sm-12.col-xs-12",".row .col-md-6.col-sm-12",".product-details-wrapper .product-options","> .product-options .swatches","> .product-options",".radio-wrapper",".product-single__variant","table.variations",".selection-wrapper.variant .selector-wrapper",".selection-wrapper.variant",".details_wrapper .color_product__options, .details_wrapper .size_product__options, .details_wrapper .single_product__options",".product-options--mobile, .product-options--desktop",".product-options",".select-container",".product-single__swatch",".lh-swatch-images, .lh-swatch-simple",".selector-wrapper:not(.full-width):not(.quantity-product-template)",".gf_swatches-selector",".product-form__option",".product-form__item:not(.product-form__item--quantity):not(.product-form__item--submit):not(.product-form__quantity-selector)",".variant-wrapper, > .swatches","[data-product-options-contariner]",".form__control","div.option",".form__control","#product-variants",".option-selectors",".variant-group",".form-field-swatch",'[class*="medium-item-grid"] .item, [class*="small-item-grid"] .item',".col-md-6.col-sm-12.col-xs-12:not(.selector-wrapper)",".product-options .swatches",".swatches-container",".tt-swatches-container .tt-wrapper",".tt-swatches-container",".variant-option",".option-header, .option-values",".product-option-list",'div[class="input-row"]',".product-form__controls-group .pf-container",".product-form__item",".variations","div[data-product-options-container]","[data-product-options-container]",".gf_variants-wrapper",".product-form__variants",'[data-label="(P) Variants"]','[data-label="(P) Swatches"]','[data-pf-type="ProductVariant"]',"> .js-product-options",".form__input-wrapper--select",".prd-block_options",".materialize-select",".c-cartform__label",".product-page--variants",".variants",".so-product-variants-wrap",".gt_product-swatches",".product-form--variants .radios--root, .product-form--variants .disclosure--root",".product-details__options .product-details__option-wrapper",".product-form-option",".so-custom-field-wrap",".sh-product-options",".product-page-info__variants"],d=t.config.util.getValue(t.config.ymq_option_branding.extra,"theme-variant-class",""),p=t.config.util.getValue(t.config.ymq_option_branding.extra,"theme-variant-class-no","");if(window.ymq_option.ymq_has_only_default_variant&&""!=p&&(d=p),""!=d&&l.unshift(d),t.config.replace&&(s=ymqJq(t.config.replace)),!s||!s.length)for(c=0;c<l.length;c+=1)if(0<(s=i.find(l[c])).length){".product-options--mobile, .product-options--desktop"===l[c]&&(s=s.add(i.find(".selector-wrapper:not(.full-width):not(.quantity-product-template)")));break}".product-form-wrapper .selector-wrapper"===l[c]&&setTimeout((function(){ymqJq(".product-form-options-wrapper").removeClass("large--hide")}),1e4);var y=":not(.scr-open-size-chart):not([data-quantity-action]):not(.js-qty-button):not(.uploadkit-button):not(.accordion__header):not(.quantity--input__button):not(.btn-num-product-down):not(.btn-num-product-up)";if("loft"===n&&0<i.find('[name="add"], .add-to-cart-btn').length?o=i.find('[name="add"], .add-to-cart-btn'):0<i.find("input#pre-order[type=submit]").length?o=i.find("input#pre-order[type=submit]").first():0<i.find("button[name=add]:not(.dummy_button_for)").length?o=i.find("button[name=add]:not(.dummy_button_for)"):0<i.find("input.add_to_cart, button.add_to_cart").length?o=i.find("input.add_to_cart, button.add_to_cart").first():0<i.find("button.add-to-cart, button.ProductForm__AddToCart").length?o=i.find("button.add-to-cart, button.ProductForm__AddToCart").first():0<i.find(".addToCart").length?o=i.find(".addToCart").first():0<i.find('button[type="submit"]'+y+", input[type=submit]").length?o=i.find('button[type="submit"]'+y+", input[type=submit]"):0<i.find("button"+y).length?o=i.find("button"+y).first():0<i.find(".btn-addtocart").length?o=i.find(".btn-addtocart").first():0<i.find(".shg-btn, .paira-add-to-cart").length&&(o=i.find(".shg-btn, .paira-add-to-cart").first()),o){if(a&&("pf-atc-button"===o.attr("id")||o.is('[data-pf-type="ProductATC"]')))(r=ymqJq("<button></button>")).html(o.html()),r.attr("class",o.attr("class")),o.replaceWith(r),o=r;setTimeout((function(){o.removeClass("disabled");try{o.attr("type","submit")}catch(t){}}),20)}if("optimizeinstagram.myshopify.com"===e?s=i.find(l[6]):"marei1998.myshopify.com"===e&&(s=i.find(".product-options label[for], .product-options label[for] + .select-wrapper")),o&&o.hasClass&&o.hasClass("shg-btn")){var u=ymqJq('<button type="submit" style="border: 0;" class="shg-btn" id="'+o.get(0).id+'">ADD TO CART</button>');o.replaceWith(u),(o=u).click((function(t){i.submit()}))}if(0<s.length){t.config.replace=l[c],s.parent().removeClass("d-none").removeClass("hide-for-all");var q=s.first().find('select, input[type="radio"], input[type="checkbox"]').first();q.length&&ymqJq._data(q.get(0),"events");".row .col-md-6.col-sm-12"!==l[c]&&".col-md-6.col-sm-12.col-xs-12:not(.selector-wrapper)"!==l[c]||r.find(".selector-wrapper").css({paddingLeft:15}),t.config.variantOriginal?s.last().css("marginBottom",Number(t.config.util.getValue(t.config.ymq_option_branding.extra,"variant-original-margin-bottom",0))).after(r):s.first().before(r),r.parent().hide(),r.parent().show(),r.parent().removeClass("hide"),r.parent().parent().hide(),r.parent().parent().show(),r.parent().removeClass("hidden"),".gf_variants-wrapper"===l[c]&&ymqJq(l[c]+":first").closest('[data-label="(P) Variants"]').attr("id",""),r.last().after(i.find(".size-chart-link, .size-chart-container")),t.config.variantOriginal||s.each((function(t,i){0===ymqJq(i).find('input[name="quantity"]:not(.product-single__swatch__input), input[type="text"]:not(.select-dropdown):not([disabled="disabled"]), input[type="number"], input[type="submit"], button:not([aria-controls="modal-bohobi-size-chart"]):not(.custom-style-select-box)').filter(':not(.ProductForm__Item):not(.Popover__Value):not(.Popover__Close):not([data-activates]):not(.product-option-quantity):not([id^="SingleOptionSelector-"]):not([aria-controls="modal-size-chart"])').length&&ymqJq(i).hide()}))}else t.config.replace="no valid option found",i.prepend(r);var _=t.config.util.getValue(t.config.ymq_option_branding.extra,"hide-shopify-option","");""!=_&&ymqJq(_).hide();var f=t.config.util.getValue(t.config.ymq_option_branding.extra,"product-hide","");""!=f&&ymqJq(f).hide();var h=t.config.util.getValue(t.config.ymq_option_branding.extra,"product-show","");""!=h&&ymqJq(h).show();var g=i.find(".product-form-grid.product-form-grid-select");g.length&&(g.first().after(g.find(".product-quantity-label, .product-quantity-input")),i.find(".swatch, .product-form-grid.product-form-grid-select, .fake-choice, .product-variants-radio-btns").hide(),ymqJq(".product-single__meta > [itemscope] > .product-variants-item").hide());var b=t.config.util.getValue(t.config.ymq_option_branding.extra,"product-add-to-cart","");if(""!=b)var v=`${b},.shopify-payment-button__button [role="button"], .shopify-payment-button__button [role="button"] span, .sticky_atc_js`;else v='.shopify-payment-button__button [role="button"], .shopify-payment-button__button [role="button"] span, .sticky_atc_js';var w=ymqJq('form[action*="/cart/add"]'),x=(w=w.not('.ssw-product-form, #add-item-qv, [id^="product-actions"], .product-form--mini, .ca-form')).find('[name="add"], .add-to-cart-btn,#addToCart');return x=x.add(o).add(v),t.I=x,t.doAddCart(),t}startLoading(t){t.addClass("ymq-btn-progress")}endLoading(t){t.removeClass("ymq-btn-progress")}controllerPaymentButton(t=!0,i=!1){var e=this;1==t&&e.buildFormData(),1==i?(e.validate.validateAll(e.formData,!0),0!=e.validate.validateCount?(ymqJq(e.config.form_box).find(e.paymentButtonDom).css("pointerEvents","none"),e.config.form_box_dom.find(e.paymentButtonDom).css("pointerEvents","none"),e.I.css("pointerEvents","none")):(ymqJq(e.config.form_box).find(e.paymentButtonDom).css("pointerEvents","auto"),e.config.form_box_dom.find(e.paymentButtonDom).css("pointerEvents","auto"),e.I.css("pointerEvents","auto"))):e.validate.validateAllWithOutPrompt(e.formData)?(ymqJq(e.config.form_box).find(e.paymentButtonDom).css("pointerEvents","none"),e.config.form_box_dom.find(e.paymentButtonDom).css("pointerEvents","none"),e.I.css("pointerEvents","none")):(ymqJq(e.config.form_box).find(e.paymentButtonDom).css("pointerEvents","auto"),e.config.form_box_dom.find(e.paymentButtonDom).css("pointerEvents","auto"),e.I.css("pointerEvents","auto"))}hidePaymentButton(){var t=this,i=t.config.util.getValue(t.config.ymq_option_branding.extra,"payment-button-hide","");if(!t.config.hideByNow)return t.paymentButtonDom='#dynamic-checkout-cart, .shopify-cleanslate, .additional-checkout-buttons,[data-shopify="payment-button"]',""!=i&&ymqJq(t.config.form_box).find(i).length>0&&(t.paymentButtonDom=i),ymqJq(document).on("click","body",(function(i){ymqJq(t.config.form_box).find(t.paymentButtonDom).each((function(){if(ymqJq(this).length>0&&i.pageX>=ymqJq(this).offset().left&&i.pageX<=ymqJq(this).offset().left+ymqJq(this).outerWidth()&&i.pageY>=ymqJq(this).offset().top&&i.pageY<=ymqJq(this).offset().top+ymqJq(this).outerHeight())return t.controllerPaymentButton(!0,!0),!1}))})),t.controllerPaymentButton(),t;var e="";return""!=i&&(e+=`\n                    ${i}{\n                        display: none!important;\n                    }\n                `,ymqJq(i).hide()),e+='\n                #dynamic-checkout-cart, .shopify-cleanslate, .additional-checkout-buttons,[data-shopify="payment-button"]{\n                    display: none!important;\n                }\n            ',ymqJq("#dynamic-checkout-cart, .shopify-cleanslate, .additional-checkout-buttons").hide(),ymqJq('[data-shopify="payment-button"]').hide().remove(),ymqJq(t.config.styleDomId).append(e),t}buildVariantConditionName(){var t=this,i=t.config.util.getValue(t.config.ymq_option_branding.extra,"variant-condition-label-class",""),e=t.config.util.getValue(t.config.ymq_option_branding.extra,"variant-condition-value-parent-class","");return t.config.variantOriginal&&""!=i&&""!=e&&ymqJq(i).length>0&&ymqJq(e).length>0&&ymqJq(i).each((function(){ymqJq(this).parents(e).attr("name",`option-box-ymq-variant-${t.config.util.htmlSpecialChars(ymqJq(this).text()).trim()}`)})),i=".ymq-options-box .ymq-option-title .ymq_lable",e=".ymq-options-box",ymqJq(i).each((function(){ymqJq(this).parents(e).attr("name",`option-box-ymq-variant-${t.config.util.htmlSpecialChars(ymqJq(this).text()).trim()}`)})),this}buildStyle(){var t=this,i=":root{";t.config.ymq_option_branding.hasOwnProperty("original-select")||(i+="\n                    --no-strong-padding-t: 6;\n                    --no-strong-padding-r: 22;\n                    --no-strong-padding-b: 6;\n                    --no-strong-padding-l: 8;\n                    --no-strong-border: 1;\n                    --no-strong-border-color: #a0a0a0;\n                    --no-strong-border-radius: 4;\n                    --no-strong-min-height: 36;\n                    --no-strong-color: #000;\n                    --no-strong-background: #fff;\n                    --no-strong-line-height: 1.2;\n                    --no-strong-max-width: 400;\n                    --no-strong-border-color-focus: #a0a0a0;\n                    --no-strong-color-focus: #000;\n                    --no-strong-background-focus: #fff;\n                "),t.config.ymq_option_branding.hasOwnProperty("qty")||(i+="\n                    --qty-border-color: #000000;\n                    --qty-border-radius: 0;\n                    --qty-disabled-background-color: #CCCCCC;\n                    --qty-font-color: #000000;\n                    --qty-font-size: 14;\n                    --qty-height: 22;\n                    --qty-width: 44;\n                    --qty-margin-l-r: 2;\n                    --qty-margin-t-b: 2;\n                    --qty-max-width: 400;\n                "),Object.keys(t.config.ymq_option_branding).forEach((function(e){"lan"!=e&&"extra"!=e&&Object.keys(t.config.ymq_option_branding[e]).forEach((function(n){i+=`\n                        ${n}: ${t.config.ymq_option_branding[e][n]};\n                    `}))})),i+="}";var e=t.config.util.getValue(t.config.ymq_option_branding.extra,"title-value","1,2,9,10");(e=e.split(",")).push(18,19);var n=[];e.forEach((function(t){n.push(`.ymq-options-box-${t} .ymq_option_text_span`)})),i+=`\n                ${n.join(",")}{\n                    display: none;\n                }\n            `,i+=t.config.util.getValue(t.config.ymq_option_branding.extra,"extra-style-code",""),ymqJq(t.config.styleDomId).html(i);var o=`<style type="text/css">${t.config.util.getValue(t.config.ymq_option_branding.extra,"customecss","")}</style>`;return ymqJq("body").append(o),t}buildShopifyDom(){var t=this;return t.config.variantOriginal||t.variant.buildVariantHtml().isSoldOut(),t}isRadioCanBeUnchecked(){var t=this;return 1==t.config.util.getValue(t.config.ymq_option_branding.extra,"radio-unchecked",0)&&ymqJq('.ymq-options-box:not(.ymq-shopify-option-box) input[type="radio"]:not(.ymq-quantity-radio)').on("click",(function(){var t=ymqJq(this).attr("name");ymqJq(this).attr("checked")?ymqJq(this).attr("checked",!1).prop("checked",!1).trigger("change"):(ymqJq(`.ymq-options-box input[type="radio"][name="${t}"]`).attr("checked",!1).prop("checked",!1),ymqJq(this).attr("checked",!0).prop("checked",!0))})),t}buildYmqDom(){var t=this;return t.config.ymqHook("buildYmqDom_b"),t.htmlBuilder.setJson(t.config.ymq_option_data,t.config.ymq_option_condition).buildtHtml(),t.config.ymqHook("buildYmqDom_a"),t}triggerThemeOptions(){var t=this;try{var i=t.config.util.getValue(t.config.ymq_option_branding.extra,"trigger-option-dom","");i&&ymqJq(document).on("change",".ymq-shopify-option",(function(){if(ymqJq(this).hasClass("ymq-dropdown"))var t=ymqJq(this).find("option:selected").attr("id");else t=ymqJq(this).attr("id");var e=(t=t.split("-")).length,n=t[e-2],o=t[e-1];t=i.replace(/ymq1/g,n).replace(/ymq2/g,o);ymqJq(t).length>0&&(ymqJq(t).trigger("click"),ymqJq(t)[0].click())}))}catch(t){}return t}textAreaAutoHeight(){return ymqJq.fn.ymqAutoHeight=function(){function t(t){t.style.height="auto",t.scrollTop=0,t.style.height=t.scrollHeight+"px"}this.each((function(){t(this),ymqJq(this).on("input",(function(){t(this)}))}))},ymqJq(".ymq-options-box textarea").ymqAutoHeight(),this}disabledSubmit(){var t=this;return t.config.hideByNow?(ymqJq(t.config.form_box).submit((function(t){return t.preventDefault(),!1})),t):t}buildAddToCartDom(){var t=this;return t}getQuantity(){return parseInt(this.quantityDom.val())||1}reSetQtyByRadioValue(){var t=this.getQuantityGradeByRadioInput();null!=t&&this.setQuantity(t.quantity)}setQuantity(t){return isNaN(t)&&(t=1),t<1&&(t=1),this.quantityDom.val(t),this}setQuantityByQty(){var t=this;if(t.config.quantity_is_fix_type){var i=t.getQuantity();if(null!=(n=t.getQuantityGradeByRadioInput())){var e=n.quantity;i>e&&(ymqJq(".ymq-quantity-radio:checked").parents(".ymq-quantity-radio-box").next(".ymq-quantity-radio-box").find(".ymq-quantity-radio").trigger("click"),t.reSetQtyByRadioValue()),i<e&&(ymqJq(".ymq-quantity-radio:checked").parents(".ymq-quantity-radio-box").prev(".ymq-quantity-radio-box").find(".ymq-quantity-radio").trigger("click"),t.reSetQtyByRadioValue())}}else{var n,o=t.getQuantity();o=parseInt(o),isNaN(o)&&(o=1),!isNaN(t.config.min_quantity)&&o<t.config.min_quantity&&(o=t.config.min_quantity),!isNaN(t.config.max_quantity)&&o>t.config.max_quantity&&(o=t.config.max_quantity),t.setQuantity(o),null!=(n=t.getQuantityGradeByQtyInput())&&(0==ymqJq(`.ymq-quantity-radio-${n.quantity}`).length?ymqJq(".ymq-quantity-radio:checked").attr("checked",!1).prop("checked",!1):ymqJq(`.ymq-quantity-radio-${n.quantity}`).attr("checked")&&ymqJq(`.ymq-quantity-radio-${n.quantity}`).prop("checked")||(t.needchange=!1,ymqJq(`.ymq-quantity-radio-${n.quantity}`).trigger("click")))}}setQuantityByRadio(){var t=this,i=t.getQuantityGradeByRadioInput();return null!=i?t.setQuantity(i.quantity):isNaN(t.config.min_quantity)?t.setQuantity(1):t.setQuantity(t.config.min_quantity),t}getShopifyJqDom(t){return ymq.$?ymq.$(t):ymqJq(t)}buildQuantityDom(){var t=this,i=t.config.util.getValue(t.config.ymq_option_branding.extra,"show-quantity",""),e="";if(""!=t.config.form_class_name&&(e=`,${t.config.form_class_name} [name="quantity"]`),""!=i&&ymqJq(i).length>0)var n=t.getShopifyJqDom(`${i}${e}`);else n=t.getShopifyJqDom(`${t.config.form_box} [name="quantity"]${e}`);if(n.length>=1)t.quantityDom=n;else{if(!t.quantityDomInited){if(0==t.config.util.getValue(t.config.ymq_option_branding.extra,"quantity-box",1))var o=`\n                            <div id="${t.config.quantity_box}" style="display: none!important;">\n                                <input id="${t.config.quantity_input}" value="1" readonly type="hidden">\n                            </div>\n                        `;else o=`\n                            <div id="${t.config.quantity_box}">\n                                <div class="${t.config.quantity_change}" data-type="cut" id="${t.config.quantity_add}">-</div>\n                                <input id="${t.config.quantity_input}" name="quantity" value="1" type="text">\n                                <div class="${t.config.quantity_change}" data-type="add" id="${t.config.quantity_cut}">+</div>\n                            </div>\n                        `;ymqJq("#ymq-box").append(o),t.quantityDomInited=!0}t.quantityDom=t.getShopifyJqDom(`#${t.config.quantity_input}`),console.log(t.config.quantity_has_value),t.config.quantity_is_fix_type&&t.config.quantity_has_value&&t.quantityDom.attr("readonly",!0).prop("readonly",!0)}return t.registerQuantityChangeEvent(),t.setQuantityByRadio(),t}buildShowAddTotalPriceInfoDom(){var t=this,i=t.config.util.getValue(t.config.ymq_option_branding.extra,"product-price-in-product-page",""),e=t.config.util.getValue(t.config.ymq_option_branding.extra,"product-compare-at-price-in-product-page","");if(!(""!=i&&ymqJq(i).length>0||""!=e&&ymqJq(e).length>0)){var n=`\n                    <div id="ymq-price-addons">\n                        ${t.config.ymq_option_branding.lan.add_price_text.replace("%s",'<span id="ymq-addons-price"></span>')}\n                    </div>\n                `;ymqJq("#ymq-box").append(n)}return t}registerQuantityChangeEvent(){var t=this,i=t.config.util.getValue(t.config.ymq_option_branding.extra,"quantity-change","");return ymqJq(".ymq-quantity-change").each((function(i,e){t.de(e,"click","namespace","","disable")})),t.quantityDom.each((function(i,e){t.de(e,"change","namespace","ymq","disable")})),""!=i&&ymqJq(i).each((function(i,e){t.de(e,"click","namespace","ymq","disable")})),ymqJq(".ymq-quantity-change").on("click",(function(){var i=-1;"add"==ymqJq(this).data("type")&&(i=1);var e=t.getQuantity();e=Number(e),e+=i,t.setQuantity(e),t.quantityDom.change()})),""!=i&&ymqJq(i).on("click.ymq",(function(){t.quantityDom.change()})),t.quantityDom.on("change.ymq",(function(){console.log("qty change"),t.quantityChange()})),this}quantityChange(){this.setQuantityByQty(),this.buildFormData()}getQuantityGradeByQtyInput(){var t=this.getQuantity();return this.doGetQuantityGrade(t)}getQuantityGradeByRadioInput(){var t=ymqJq(".ymq-quantity-radio:checked").val();return this.doGetQuantityGrade(parseInt(t))}doGetQuantityGrade(t){var i=this,e=null;if(i.config.hasQuantity&&i.config.quantity_has_value)if(i.config.quantity_is_fix_type)try{Object.keys(i.config.quantity.options).forEach((function(n){if(t==n)throw e=i.config.quantity.options[n],new Error("breakForEach")}))}catch(t){if("breakForEach"!=t.message)throw t}else try{Object.keys(i.config.quantity.options).forEach((function(n){if(t>=n&&t<=i.config.quantity.options[n].quantity_max)throw e=i.config.quantity.options[n],new Error("breakForEach")}))}catch(t){if("breakForEach"!=t.message)throw t}return e}getShopifySelectDom(){var t=this;t.config.form_box_dom.css("cssText","display:block !important;");var i=[],e=[],n=[],o=[];return t.config.form_box_dom.find("select").each((function(){i=[],e=[],n=[];var o=ymqJq(this);ymqJq(this).find("option").each((function(){i.push(ymqJq(this).html()),e.push(ymqJq(this).val()),n.push(t.config.util.htmlSpecialChars(ymqJq(this).val()))})),Object.keys(t.config.ymq_shopify_options).forEach((function(a,r){t.config.shopifySelectDom.hasOwnProperty(a)||JSON.stringify(t.config.ymq_shopify_options[a])!=JSON.stringify(i)&&JSON.stringify(t.config.ymq_shopify_options[a])!=JSON.stringify(e)&&JSON.stringify(t.config.ymq_shopify_options[a])!=JSON.stringify(n)||(t.config.shopifySelectDom[a]={},t.config.shopifySelectDom[a].jq=o,t.config.shopifySelectDom[a].type="select",o.attr("id")?t.config.shopifySelectDom[a].id=o.attr("id"):(t.config.shopifySelectDom[a].id=`ymq_shopify_select_id_${a}`,o.attr("id",`ymq_shopify_select_id_${a}`)))}))})),t.config.form_box_dom.find(":radio").each((function(){o.push(ymqJq(this).attr("name"))})),(o=ymqJq.unique(o)).forEach((function(i){e=[],n=[],ymqJq("input[name='"+i+"']").each((function(){e.push(ymqJq(this).val()),n.push(t.config.util.htmlSpecialChars(ymqJq(this).val()))}));var o=ymqJq("input[name='"+i+"']");Object.keys(t.config.ymq_shopify_options).forEach((function(a,r){t.config.shopifySelectDom.hasOwnProperty(a)||JSON.stringify(t.config.ymq_shopify_options[a])!=JSON.stringify(e)&&JSON.stringify(t.config.ymq_shopify_options[a])!=JSON.stringify(n)||(t.config.shopifySelectDom[a]={},t.config.shopifySelectDom[a].jq=o,t.config.shopifySelectDom[a].type="radio",t.config.shopifySelectDom[a].name=i)}))})),t}registerInputChangeEvent(){var t=this;ymqJq(t.config.form_box).find('input[type="text"],input[type="number"],textarea').on("keyup",(function(){var i=ymqJq(this).parents(".ymq-options-box");t.buildFormData().validateOne(i),t.config.hideByNow&&t.config.cancelAjaxCart||t.controllerPaymentButton(!1)}));var i="input,select";return""!=t.config.form_class_name&&(i=`${t.config.form_class_name} input,${t.config.form_class_name} select`),ymqJq(document).on("change",i,(function(){var i=ymqJq(this).parents(".ymq-options-box");if(ymqJq(this).hasClass("ymq-shopify-option")&&(t.variant.isSoldOut(),t.variant.changeUriByVariantId()),i.hasClass("ymq-options-qty-box")&&!ymqJq(this).hasClass("ymq-qty-input")&&("SELECT"==ymqJq(this).get(0).tagName?(i.find(".ymq-qty-input").attr("disabled",!0),ymqJq(this).find("option:selected:not(:disabled)").each((function(){var t=ymqJq(this).data("id");t&&ymqJq(`.ymq-qty-input-${t}`).attr("disabled",!1)}))):("radio"==ymqJq(this).attr("type")&&i.find(".ymq-qty-input").attr("disabled",!0),ymqJq(this).prop("checked")&&!ymqJq(this).prop("disabled")?ymqJq(`.ymq-qty-input-${ymqJq(this).data("id")}`).attr("disabled",!1):ymqJq(`.ymq-qty-input-${ymqJq(this).data("id")}`).attr("disabled",!0))),ymqJq(this).hasClass("ymq-qty-input")&&ymqJq(this).val(t.config.util.getIntValue(ymqJq(this).val())),t.config.variantOriginal){if(t.config.iddom.length>0&&0==Number(t.config.util.getValue(t.config.ymq_option_branding.extra,"variant-id-from",0)))var e=t.config.iddom.val();else e=t.config.util.getUrlParam("variant");e&&(t.variant.variant_id=e,t.variant.changeVariantId())}t.buildFormData().validateOne(i),t.config.hideByNow&&t.config.cancelAjaxCart||t.controllerPaymentButton(!1)})),ymqJq(document).on("change",".ymq-quantity-radio",(function(){t.needchange&&t.setQuantityByRadio().buildFormData(),t.needchange=!0})),t}validateOne(t){var i=this,e=t.data("name");return i.validate.validateOne(i.formData[e]),i}validateAll(t=!1){var i=this;return i.validate.validateAll(i.formData,t),i}registerBuyItNowEvent(){var t=this;return ymqJq("body").on("click",`#${t.config.buy_id_now}`,(function(){if(t.validate.validateAll(t.formData,!0),0!=t.validate.validateCount)return!1;var i={};i.item_count=ymqJq(`#${t.config.quantity_input}`).val(),i.items=[];var e={};e.variant_id=t.variant.variant_id,e.quantity=i.item_count,e.product_id=t.config.product.id,e.product_title=t.config.product.title,e.line_price=t.config.variantData[t.variant.variant_id].price*i.item_count,e.properties=t.getAjaxDataByFormData(!0),i.items.push(e),ymqJq.ajax({type:"POST",url:"https://option.ymq.cool/api/checkout",data:{data:i,shop:t.config.shop,token:t.config.token,timestamp:t.config.timestamp,customer_id:t.config.customer_id},dataType:"json",success:function(t){window.location.href=t.data},error:function(t){}})})),t}getAjaxDataByFormData(t=!1){var i=this,e={};return i.ogFormData=new FormData,Object.keys(i.formData).forEach((function(n){if((0!=i.formData[n].value.length||i.formData[n].hasOwnProperty("isFile"))&&i.formData[n].addToCart){i.selectedValue=i.formData[n];var o=i.selectedValue.value.join(","),a=i.config.doFormatWithWrappeStr(" | ","",i.selectedValue.price,i.selectedValue.onetime,!1);if(""!=a)if(o+=a,1==Number(i.config.util.getValue(i.config.ymq_option_branding.extra,"carry-currency","0"))&&0==Number(i.config.util.getValue(i.config.ymq_option_branding.extra,"close-cart-rate","0")))o+=`${i.config.util.getValue(i.config.ymq_option_branding.lan,"currency-split"," - ")}${Shopify.currency.active}`;if(t)e[n.substring(11,n.length-1)]=o;else if(i.formData[n].hasOwnProperty("isFile")){if(i.upload.fileData.hasOwnProperty(n)){var r=Object.keys(i.upload.fileData[n]).length;r>0&&Object.keys(i.upload.fileData[n]).forEach((function(t,e){i.ogFormData.set(1==r?n:i.reCreatName(n,e),i.upload.fileData[n][t].file,i.upload.fileData[n][t].name)}))}}else i.ogFormData.set(n,o),e[n]=o}})),e}reCreatName(t=null,i=0){return`properties[${t=t.substring(11,t.length-1)}_${i}]`}registerAddToCartEvent(){var t=this;return ymqJq("body").on("click",`#${t.config.add_to_cart}`,(function(){if(t.validate.validateAll(t.formData,!0),0!=t.validate.validateCount)return!1;ymqJq(this).addClass("ymq-btn-progress");var i=t.getAjaxDataByFormData();i.id=t.variant.variant_id,i.quantity=t.getQuantity(),ymqJq.ajax({type:"POST",url:"/cart/add.js",data:i,dataType:"json",success:function(t){window.location.href="/cart"},error:function(t){ymqJq(this).removeClass("ymq-btn-progress")}})})),t}getMultiple(t){return-1!=this.config.multipleTypeArray.indexOf(Number(t))}buildOtherFormData(){var t=this;if(0==Number(t.config.util.getValue(t.config.ymq_option_branding.extra,"other-form-data",0)))return t;try{ymqJq("[name^='properties']").length>0&&ymqJq("[name^='properties']").each((function(){if(!ymqJq(this).prop("disabled")){var i="",e=ymqJq(this).attr("name"),n=ymqJq(this).get(0).tagName.toLowerCase(),o=ymqJq(this).attr("ymq-other-validate");if(ymqJq(this).attr("ymq-other-name"))var a=ymqJq(this).attr("ymq-other-name");else a=e.match(/\[(.+?)\]/g)[0].replace("[","").replace("]","");if(!t.formData.hasOwnProperty(e)&&("select"==n?i="select":"textarea"==n?i="textarea":"input"==n&&(i=ymqJq(this).attr("type")?ymqJq(this).attr("type"):"text"),"hidden"!=i)){var r=[];if("select"==i){var m=ymqJq(this).val();m instanceof Array?r=m:r.push(ymqJq(this).val())}else["textarea","text","hidden"].includes(i)?""!=ymqJq(this).val()&&r.push(ymqJq(this).val()):["checkbox","radio"].includes(i)&&ymqJq(`[name='${e}']:not(:disabled):checked`).each((function(){r.push(ymqJq(this).val())}));r=r.filter((t=>""!=t)),t.formData[e]={onetime:0,price:0,validate:o,value:r,nameStr:a,name:e,otherValidate:!0},"file"==i&&(t.formData[e]={isFile:!0,onetime:0,price:0,validate:o,value:[],nameStr:a,name:e,otherValidate:!0})}}}))}catch(t){}return t}getOptionValueWithQty(t,i,e){if(e&&""!=t)try{var n=this.config.util.getOptionValueQty(i);return`${t}${this.config.qty_split}${n}`}catch(i){return t}return t}getOptionPriceWithQty(t,i,e){if(e)try{var n=this.config.util.getOptionValueQty(i);return Number(t*n)}catch(i){return Number(t)}return Number(t)}buildFormData(){var t=this;t.config.ymqHook("buildFormData_b"),t.formData={},t.config.form_box_dom.find(".ymq-options-box").each((function(){var i=ymqJq(this).data("name"),e=Number(ymqJq(this).data("type")),n=ymqJq(this).data("class"),o=Number(ymqJq(this).data("onetime")),a=ymqJq(this).hasClass("ymq-options-qty-box"),r=1==Number(ymqJq(this).data("ymq-add-to-cart"));window.ymq_option.ymq_option_branding.extra.plan<2&&(o=0);var m={},c=ymqJq(this).find(`.${n}`),s=ymqJq(this).find(`.${n}:disabled`),l=ymqJq(this).data("validate");if(18==e||19==e){var d=t.getQuantityGradeByQtyInput();if(null!=d){var p=t.config.util.getValue(t.config.ymq_option_branding.lan,"qty-rang","qtyRange"),y=t.config.util.getValue(t.config.ymq_option_branding.lan,"qty-discount","discount"),u=t.config.util.getValue(t.config.ymq_option_branding.lan,"qty-discount-type","discountType"),q=t.config.util.getValue(t.config.ymq_option_branding.lan,"qty-discount-type-percentage","percentage"),_=t.config.util.getValue(t.config.ymq_option_branding.lan,"qty-discount-type-fixed","fixed"),f=t.config.util.getValue(t.config.ymq_option_branding.lan,"max-quantity","999999"),h=`${p}: ${d.quantity} - ${999999==Number(d.quantity_max?d.quantity_max:d.quantity)?f:Number(d.quantity_max?d.quantity_max:d.quantity)} | ${y}: ${d.discount} | ${u}: ${1==Number(d.discount_type)?q:_}`;m={onetime:0,price:0,validate:"",value:[h]}}else if(!(19!=e||isNaN(t.config.min_quantity)&&isNaN(t.config.max_quantity))){var g=1,b=t.config.max_num;isNaN(t.config.min_quantity)||(g=t.config.min_quantity),isNaN(t.config.max_quantity)||(b=t.config.max_quantity);p=t.config.util.getValue(t.config.ymq_option_branding.lan,"qty-rang","qtyRange");m={onetime:0,price:0,validate:"",value:[h=`${p}: ( ${g} - ${b} ) `]}}}else if(1==c.length){if(!c.prop("disabled"))if(m.onetime=o,7==e||3==e){m.value=[];var v=0;ymqJq(this).find("option").each((function(){ymqJq(this).prop("selected")&&""!=ymqJq(this).val()&&!ymqJq(this).prop("disabled")&&(m.value.push(t.getOptionValueWithQty(ymqJq(this).val(),ymqJq(this),a)),ymqJq(this).data("price")&&(v-=-t.getOptionPriceWithQty(ymqJq(this).data("price"),ymqJq(this),a)))})),m.price=v,m.validate=l}else if(!0,"radio"==c.attr("type")||"checkbox"==c.attr("type")){m.value=[];v=0;c.prop("checked")&&(m.value.push(t.getOptionValueWithQty(c.val(),c,a)),c.data("price")&&(v-=-t.getOptionPriceWithQty(c.data("price"),c,a))),m.price=v,m.validate=l}else if("file"==c.prop("type")){if(m.value=[],""!=t.config.util.getValue(t.config.ymq_option_branding.extra,"upload-num-prompt","")){var w=0;t.upload.fileData.hasOwnProperty(i)&&(w=Object.keys(t.upload.fileData[i]).length),m.value.push(`(${w} / ${c.data("file-num")})`)}m.price=0,0!=m.value.length&&(m.price=c.data("price")?Number(c.data("price")):0),m.isFile=!0,m.name=i,m.validate=l}else m.value=""==c.val()?[]:[c.val()],m.price=0,0!=m.value.length&&(m.price=c.data("price")?Number(c.data("price")):0),m.validate=l}else if(c.length!=s.length){m.onetime=o,m.value=[];v=0;c.each((function(){ymqJq(this).prop("disabled")||ymqJq(this).prop("checked")&&(m.value.push(t.getOptionValueWithQty(ymqJq(this).val(),ymqJq(this),a)),ymqJq(this).data("price")&&(v-=-t.getOptionPriceWithQty(ymqJq(this).data("price"),ymqJq(this),a)))})),m.price=v,m.validate=l}if(!ymqJq.isEmptyObject(m)){m.dom=c.eq(0),m.hasQty=a,m.addToCart=r,t.selectedValue=m;var x=t.selectedValue.value.join(","),$=t.config.doFormatWithWrappeStr(`${x}<span class="ymq-option-title-right-price"> | `,"</span>",t.selectedValue.price,o);""!=$&&(x=$);var J=t.config.util.getValue(t.config.ymq_option_branding.extra,"title-value","1,2,9,10");J=J.split(","),(ymqJq.inArray(e,J)>=0||ymqJq.inArray(e.toString(),J)>=0)&&ymqJq(this).find(".ymq_option_price_span").html(t.config.doFormat(t.selectedValue.price,o)),ymqJq(this).find(".ymq_option_text_span").html(x),ymqJq(this).hasClass("ymq-shopify-option-box")||(t.formData[i]=m)}})),t.ymq_total_price=0,t.ymq_total_price_single=0,t.ymq_option_price=0,t.ymq_option_price_single=0;var i=t.getQuantity();return Object.keys(t.formData).forEach((function(e){1==Number(t.formData[e].onetime)?(t.ymq_total_price=Number(t.ymq_total_price)+Number(t.formData[e].price),t.ymq_option_price_single=Number(t.ymq_option_price_single)+Number(t.formData[e].price)):(t.ymq_total_price=Number(t.ymq_total_price)+Number(t.formData[e].price)*i,t.ymq_option_price=Number(t.ymq_option_price)+Number(t.formData[e].price)),t.ymq_total_price_single=Number(t.ymq_total_price_single)+Number(t.formData[e].price)})),t.price(),t.buildQuantityDiscount(),t.config.doAppCurrency(),t.config.ymqHook("buildFormData_a"),t}buildQuantityDiscount(){var t=this,i=t.config.variantData[t.variant.variant_id].price,e=t.config.util.getValue(t.config.ymq_option_branding.lan,"q-save","Save");return ymqJq(".ymq-quantity-radio-box").each((function(){var n,o=0,a=2,r=1,m=0;if(ymqJq(this).hasClass("ymq-quantity-show-box")){var c=t.getQuantityGradeByQtyInput();null!=c?(ymqJq(this).show(),o=Number(c.discount),a=Number(c.discount_type),r=t.getQuantity(),ymqJq(this).find(".ymq-quantity-buy-quantity").html(r),1==a?ymqJq(this).find(".ymq-quantity-discount").html(`${e} ${o}%`):ymqJq(this).find(".ymq-quantity-discount").html(`-${t.config.doFormat(o)}`)):ymqJq(this).hide()}else o=Number(ymqJq(this).find(".ymq-quantity-discount-price").data("discount")),a=Number(ymqJq(this).find(".ymq-quantity-discount-price").data("discount_type")),r=Number(ymqJq(this).find(".ymq-quantity-discount-price").data("quantity"));n=(Number(i)/100+Number(t.ymq_option_price))*r+Number(t.ymq_option_price_single),m=1==a?n*(1-o/100):n-o,ymqJq(this).find(".ymq-quantity-discount-price").html(t.config.doFormat(m)),ymqJq(this).find(".ymq-quantity-compared-price,.ymq-quantity-compared-price-no-discount").html(t.config.doFormat(n))})),t}price(){var t=this,i=t.config.util.getValue(t.config.ymq_option_branding.extra,"product-price-in-product-page",""),e=t.config.util.getValue(t.config.ymq_option_branding.extra,"product-compare-at-price-in-product-page","");if(""!=i&&ymqJq(i).length>0||""!=e&&ymqJq(e).length>0){if(t.config.variantData.hasOwnProperty(t.variant.variant_id)){var n=t.config.variantData[t.variant.variant_id],o=n.price,a=n.compare_at_price;""!=i&&ymqJq(i).length>0&&ymqJq(i).html(t.config.doFormatWithoutRate((100*Number(t.ymq_total_price_single)*Shopify.currency.rate+Number(o))/100)),""!=e&&ymqJq(e).length>0&&a&&ymqJq(e).html(t.config.doFormatWithoutRate((100*Number(t.ymq_total_price_single)*Shopify.currency.rate+Number(a))/100))}}else 0==Number(t.ymq_total_price)?ymqJq("#ymq-price-addons").slideUp(300,"swing"):ymqJq("#ymq-price-addons").slideDown(300,"swing"),ymqJq("#ymq-addons-price").html(t.config.doFormat(t.ymq_total_price));return t}reset(t,i,e,n,o){var a=this;a.config.form_box_dom.html(""),a.config.ymq_variantjson=t,a.config.ymq_option_data=i,a.config.ymq_option_condition=e,a.config.ymq_option_template=n,a.config.ymq_option_template_condition=o,a.config.hasQuantity=!1,a.variant.init(),a.init()}initConfig(){var t=this;if(t.config=Config.getInstance("productInstance",t),t.config.shop=window.ymq_option.shop,t.config.token=window.ymq_option.token,t.config.timestamp=window.ymq_option.timestamp,t.config.customer_id=window.ymq_option.customer_id,t.config.product=window.ymq_option.product,t.config.ymq_shopify_options=window.ymq_option.ymq_shopify_options,t.config.money_format=window.ymq_option.ymq_option_branding.lan.currency,t.config.form_box="",t.config.shopifySelectDom=[],ymqJq('form[action="/cart/add"]').length>=1)t.config.form_box='form[action="/cart/add"]';else if(ymqJq('form[action*="/cart/add"]').length>=1){var i=ymqJq('form[action*="/cart/add"]').attr("action");t.config.form_box=`form[action="${i}"]`}t.config.util.getUrlParam("ymq_view")?(t.config.ymq_variantjson=window.ymq_option.ymq_variantjson_yulan,t.config.ymq_option_data=window.ymq_option.ymq_option_data_yulan,t.config.ymq_option_condition=window.ymq_option.ymq_option_condition_yulan,t.config.ymq_option_template=window.ymq_option.ymq_option_template_yulan,t.config.ymq_option_template_condition=window.ymq_option.ymq_option_template_condition_yulan):(t.config.ymq_variantjson=window.ymq_option.ymq_variantjson,t.config.ymq_option_data=window.ymq_option.ymq_option_data,t.config.ymq_option_condition=window.ymq_option.ymq_option_condition,t.config.ymq_option_template=window.ymq_option.ymq_option_template,t.config.ymq_option_template_condition=window.ymq_option.ymq_option_template_condition),t.config.ymq_option_settings=window.ymq_option.ymq_option_settings,t.config.ymq_option_branding=window.ymq_option.ymq_option_branding,t.config.ymq_has_only_default_variant=window.ymq_option.ymq_has_only_default_variant,t.config.variantData={},t.config.product.variants.forEach((function(i){t.config.variantData[i.id]=i})),t.config.variantOriginal=!1,1==t.config.util.getValue(t.config.ymq_option_branding.extra,"variant-original",0)&&(t.config.variantOriginal=!0),t.config.onetimetag=` ( ${t.config.util.getValue(t.config.ymq_option_branding.lan,"one-time-tag","one time")} )`,t.config.form_box_dom="";var e=t.config.util.getValue(t.config.ymq_option_branding.extra,"add-cart-form-number",0);t.config.form_class_name="",0==e&&window.ymq_option.isDawn?(t.config.form_box_dom=ymqJq(".product__info-container"),t.config.form_class_name=".product__info-container",Number(e)==e&&0!=ymqJq(".product__info-container").length||(t.config.form_class_name=e,t.config.form_box_dom=ymqJq(e))):Number(e)==e?(t.config.form_box_dom=ymqJq(t.config.form_box).eq(Number(e)),t.config.form_class_name=t.config.form_box):(t.config.form_box_dom=ymqJq(e),t.config.form_class_name=e);var n=t.config.util.getValue(t.config.ymq_option_branding.extra,"variant-id-dom","");n&&ymqJq(n).length>0?t.config.iddom=ymqJq(n):t.config.iddom=t.config.form_box_dom.find("[name='id']")}static getInstance(){return this.instance||(this.instance=new t),this.instance}},Upload=class t{constructor(){var t=this;t.instance=null,t.config=Config.getInstance("uploadInstance",t),t.init()}init(){this.disabledFileInput().initMemberVariables().initModal().initOptions().registerEvent(),this.registerFileInputChangeEvent()}initMemberVariables(){var t=this;return t.cropper=null,t.files=null,t.num=0,t.fileData={},t.rectangleRatios=[],t.formData=new FormData,t.inputDom=null,t.previewReady=!1,t.imgDom=null,t}disabledFileInput(){return ymqJq(document).on("click",".ymq_upload_new.ymq_disabled",(function(t){return t.stopImmediatePropagation(),t.preventDefault(),!1})),this}initOptions(){var t=this;return t.options={ready:function(){var i=this.cloneNode();i.className="",i.style.cssText="display: block;width: 100%;min-width: 0;min-height: 0;max-width: none;max-height: none;",ymqJq(".ymq-img-review")[0].appendChild(i.cloneNode()),t.previewReady=!0},dragMode:"move",isRound:!1,crop:function(i){if(t.previewReady){var e=i.detail,n=this.cropper.getImageData(),o=e.width/e.height,a=ymqJq(".ymq-img-review")[0];if(a){var r=a.getElementsByTagName("img").item(0),m=a.offsetWidth,c=m/o,s=e.width/m;a.style.height=c+"px",r&&(r.style.width=n.naturalWidth/s+"px",r.style.height=n.naturalHeight/s+"px",r.style.marginLeft=-e.x/s+"px",r.style.marginTop=-e.y/s+"px")}}}},t}resetAspectRatio(t){var i=this;return 2==(t=t.split(":")).length?(t=t[0]/t[1],i.options.aspectRatio=t):delete i.options.aspectRatio,i}registerEvent(){var t=this;return ymqJq(document).on("click",".ymq-cropper-button-resize",(function(){t.destroyCropper().resetAspectRatio(ymqJq(this).data("aspect-ratio")).newCropper()})),ymqJq(document).on("click",".ymq-cropper-rotate-left",(function(){t.cropper.rotate(-30)})),ymqJq(document).on("click",".ymq-cropper-rotate-right",(function(){t.cropper.rotate(30)})),t.modal.find("#ymq-do-cropper").on("click",(function(){if(t.cropper){t.getCanvas().toDataURL("image/jpeg",1);t.getCanvas().toBlob((function(i){t.addImg(i)}))}})),t}destroyCropper(){var t=this;return t.cropper.destroy(),t.cropper=null,t}newCropper(){var t=this;return t.cropper=new Cropper(t.imgDom[0],t.options),t.modal.resize(),t}initRectangleRatio(){var t=this;t.rectangleRatios=[],t.resetAspectRatio("");var i=t.inputDom.data("rectangle-ratio");i&&(i=i.split(",")).length>0&&(t.rectangleRatios=i,t.resetAspectRatio(t.rectangleRatios[0])),t.options.isRound=!1,ymqJq(".ymq-img-container").removeClass("cropper-container-round"),2==t.inputDom.data("cropper")&&(t.resetAspectRatio("1:1"),ymqJq(".ymq-img-container").addClass("cropper-container-round"));var e="";return t.rectangleRatios.forEach((function(t){e+=`<div class="ymq-cropper-button ymq-cropper-button-resize" data-aspect-ratio="${t}">${t}</div>`})),t.modal.find(".ymq-img-action_m").html(e),t.modal.find(".ymq-img-action_pc").html(e),t}getCanvas(){var t=this;if(2==t.inputDom.data("cropper")){var i=t.cropper.getCroppedCanvas(),e=document.createElement("canvas"),n=e.getContext("2d"),o=i.width,a=i.height;return e.width=o,e.height=a,n.imageSmoothingEnabled=!0,n.drawImage(i,0,0,o,a),n.globalCompositeOperation="destination-in",n.beginPath(),n.arc(o/2,a/2,Math.min(o,a)/2,0,2*Math.PI,!0),n.fill(),e}return t.cropper.getCroppedCanvas()}registerFileInputChangeEvent(){var t=this,i='input[type="file"]';return""!=t.config.form_class_name&&(i=`${t.config.form_class_name} input[type="file"]`),ymqJq(document).on("change",i,(function(i){if(t.inputDom=ymqJq(this),t.files=i.target.files,t.inputDom.val())if(ymqJq(this).hasClass("ymq-options-file-input")){0!=t.inputDom.data("cropper")?t.initRectangleRatio().doCropper():t.addFile();var e="";e+='<div class="ymq-cropper-button ymq-cropper-rotate-left"><svg t="1625460890766" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6401" width="16" height="16"><path d="M950.930517 512q0 89.161143-34.889143 170.276571t-93.696 139.995429-139.995429 93.696-170.276571 34.889143q-98.304 0-186.88-41.398857t-150.820571-116.882286q-4.022857-5.705143-3.730286-12.873143t4.827429-11.702857l78.262857-78.848q5.705143-5.12 14.262857-5.12 9.142857 1.170286 13.165714 6.875429 41.691429 54.272 102.253714 83.968t128.585143 29.696q59.465143 0 113.444571-23.113143t93.403429-62.537143 62.537143-93.403429 23.113143-113.444571-23.113143-113.444571-62.537143-93.403429-93.403429-62.537143-113.444571-23.113143q-56.027429 0-107.446857 20.260571t-91.428571 58.002286l78.262857 78.848q17.700571 17.115429 7.972571 39.424-9.728 22.820571-33.718857 22.820571l-256 0q-14.848 0-25.746286-10.825143t-10.825143-25.746286l0-256q0-23.990857 22.820571-33.718857 22.308571-9.728 39.424 7.972571l74.313143 73.728q61.147429-57.709714 139.702857-89.453714t162.596571-31.744q89.161143 0 170.276571 34.889143t139.995429 93.696 93.696 139.995429 34.889143 170.276571z" p-id="6402" fill="#ffffff"></path></svg></div><div class="ymq-cropper-button ymq-cropper-rotate-right"><svg t="1625461123473" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6636" width="16" height="16"><path d="M950.857143 146.285714l0 256q0 14.857143-10.857143 25.714286t-25.714286 10.857143l-256 0q-24 0-33.714286-22.857143-9.714286-22.285714 8-39.428571l78.857143-78.857143q-84.571429-78.285714-199.428571-78.285714-59.428571 0-113.428571 23.142857t-93.428571 62.571429-62.571429 93.428571-23.142857 113.428571 23.142857 113.428571 62.571429 93.428571 93.428571 62.571429 113.428571 23.142857q68 0 128.571429-29.714286t102.285714-84q4-5.714286 13.142857-6.857143 8 0 14.285714 5.142857l78.285714 78.857143q5.142857 4.571429 5.428571 11.714286t-4.285714 12.857143q-62.285714 75.428571-150.857143 116.857143t-186.857143 41.428571q-89.142857 0-170.285714-34.857143t-140-93.714286-93.714286-140-34.857143-170.285714 34.857143-170.285714 93.714286-140 140-93.714286 170.285714-34.857143q84 0 162.571429 31.714286t139.714286 89.428571l74.285714-73.714286q16.571429-17.714286 40-8 22.285714 9.714286 22.285714 33.714286z" p-id="6637" fill="#ffffff"></path></svg></div>',t.modal.find(".ymq-img-action_m").append(e),t.modal.find(".ymq-img-action_pc").append(e)}else t.addOtherFile()})),t}doCropper(){var t,i,e=this;try{e.files&&e.files.length>0&&(t=e.files[0],/^image\/\w+/.test(t.type)?URL?e.done(URL.createObjectURL(t)):FileReader&&((i=new FileReader).onload=function(t){e.done(i.result)},i.readAsDataURL(t)):e.addFile())}catch(t){}}done(t){var i=this;i.inputDom.val(""),i.imgDom.prop("src",t),i.modal.modal("show")}isDisabled(){var t=this,i=t.inputDom.prop("name"),e=t.inputDom.data("file-num"),n=0;t.fileData.hasOwnProperty(i)&&(n=Object.keys(t.fileData[i]).length),n>=e?t.inputDom.parents(".ymq_upload_new").addClass("ymq_disabled"):t.inputDom.parents(".ymq_upload_new").removeClass("ymq_disabled")}addOtherFile(){var t=this,i=t.inputDom.prop("name");t.fileData.hasOwnProperty(i)||(t.fileData[i]={});var e=t.files.length;for(let n=0;n<e;n++)t.fileData[i][n]={file:t.files[n],name:t.files[n].name}}addFile(){var t=this,i="",e=t.inputDom.prop("name"),n=t.inputDom.parents(".ymq-options-box").find(".ymq_upload_img_view"),o=t.inputDom.parents(".ymq-options-box").find(".ymq_upload_file_view"),a=t.inputDom.data("file-num"),r=t.files.length,m="";t.fileData.hasOwnProperty(e)||(t.fileData[e]={}),(a-=Object.keys(t.fileData[e]).length)<=t.files.length&&(r=a);for(let a=0;a<r;a++)t.fileData[e][t.num]={file:t.files[a],name:t.files[a].name},/^image\/\w+/.test(t.files[a].type)?(URL&&(i=URL.createObjectURL(t.files[a])),m=`\n                        <div class="ymq_upload_img_item ymq_upload_file_item ymq_upload_file_item_${t.num}" style="display: none;" data-name="${e}" data-num="${t.num}">\n                            <img class="ymq_img_item" src="${i}" alt="">\n                            <div class="ymq_upload_img_item_bg">\n                                <span data-name="${e}" data-num="${t.num}" class="ymq_upload_img_item_del ymq_upload_file_item_del"></span>\n                                <div class="spotlight" data-src="${i}"></div>\n                            </div>\n                        </div>\n                    `,n.prepend(m),ymqJq(`.ymq_upload_file_item_${t.num}`).fadeIn()):(m=`\n                        <div class="ymq_upload_item ymq_upload_file_view ymq_upload_file_item ymq_upload_file_item_${t.num}">\n                            <div class="ymq_upload_type ymq_upload_img"></div>\n                            <div class="ymq_upload_name">${t.files[a].name}</div>\n                            <div data-name="${e}" data-num="${t.num}" class="ymq_upload_status ymq_upload_success ymq_upload_file_item_del"></div>\n                            <div class="ymq_clear_both"></div>\n                        </div>\n                    `,o.append(m),ymqJq(`.ymq_upload_file_item_${t.num}`).fadeIn()),t.num++;t.inputDom.val("").change(),t.isDisabled()}addImg(t){var i=this,e=URL.createObjectURL(t),n=i.inputDom.parents(".ymq-options-box").find(".ymq_upload_img_view"),o=i.inputDom.prop("name"),a=`\n                <div class="ymq_upload_img_item ymq_upload_file_item ymq_upload_file_item_${i.num}" style="display: none;" data-name="${o}" data-num="${i.num}">\n                    <img class="ymq_img_item" src="${e}" alt="">\n                    <div class="ymq_upload_img_item_bg">\n                        <span data-name="${o}" data-num="${i.num}" class="ymq_upload_img_item_del ymq_upload_file_item_del"></span>\n                        <div class="spotlight" data-src="${e}"></div>\n                    </div>\n                </div>\n            `;i.fileData.hasOwnProperty(o)||(i.fileData[o]={}),i.fileData[o][i.num]={file:t,name:`${o}_${i.num}.jpg`},i.formData.append(o,t,`${o}.jpg`),n.prepend(a),ymqJq(`.ymq_upload_file_item_${i.num}`).fadeIn(),i.modal.modal("hide"),i.num++,i.inputDom.val("").change(),i.isDisabled()}initModal(){var t=this;return ymqJq("body").append('\n                <div class="ymq-bmodal ymq-modal-fade" id="ymqBootModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">\n                    <div class="ymq-modal-dialog ymq-modal-lg" role="document">\n                      <div class="ymq-bmodal-content">\n                        <div class="ymq-modal-header">\n                          <div class="ymq-modal-close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></div>\n                        </div>\n                        <div class="ymq-modal-body">\n                          <div class="ymq-img-container">\n                            <div class="ymq-img-cropper-container">\n                              <img id="ymq-upload-cropper-img" src="">\n                            </div>\n                            <div class="ymq-img-review-container">\n                              <div class="ymq-img-review">\n                              </div>\n                              <div class="ymq-img-action ymq-img-action_m ymq_m_show">\n                                \n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                        <div class="ymq-modal-footer">\n                          <div class="ymq-cropper-button ymq-cropper-button-close" data-dismiss="modal">Close</div>\n                          <div class="ymq-img-action ymq-img-action_pc ymq_pc_show">\n                            \n                          </div>\n                          <div class="ymq-cropper-button" id="ymq-do-cropper">Save</div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n            '),t.imgDom=ymqJq("#ymq-upload-cropper-img"),t.modal=ymqJq("#ymqBootModal"),t.modal.on("shown.bs.modal",(function(){t.newCropper()})).on("hidden.bs.modal",(function(){t.destroyCropper(),ymqJq(".ymq-img-review").html("")})),t}static getInstance(){return this.instance||(this.instance=new t),this.instance}},Util=class t{constructor(t){this.instance=null,this.init()}init(){var t=this;this.dateFormat().initSpotlight(),t.money_format=t.getValue(window.ymq_option.ymq_option_branding.extra,"money-format","money_format"),["money_format","money_with_currency_format"].includes(t.money_format)||(t.money_format="money_format")}isNum(t){return Number(t)+""!="NaN"}jstrigger(t,i){if(document.all)t.fireEvent("on"+i);else{var e=document.createEvent("Events");e.initEvent(i,!0,!0),t.dispatchEvent(e)}}getOptionValueQty(t){try{var i=t.data("id");return this.getIntValue(ymqJq(`.ymq-qty-input-${i}`).val())}catch(t){return 1}return 1}getIntValue(t){try{return Number(t)&&Number(t)>0?parseInt(t):1}catch(t){return 1}return 1}getParenthesesStr(t){var i="";if(""==t)return i;var e=t.match(/\((.+?)\)/g);if(""!=e){let t=e[0];""!=t&&(i=t.substring(1,t.length-1))}return i}getShopifySmallImg(t,i=200,e=200){return-1!=t.indexOf("shopify")?-1!=(t=(t=t.replace(/ /g,"")).replace(/	/g,"")).indexOf("?")?t+"&width="+i+"&height="+e:t+"?width="+i+"&height="+e:t}formatCurrency(t){t=t.toString().replace(/\$|\,/g,""),isNaN(t)&&(t="0");var i=t==(t=Math.abs(t)),e=(t=Math.floor(100*t+.50000000001))%100;t=Math.floor(t/100).toString(),e<10&&(e="0"+e);for(var n=0;n<Math.floor((t.length-(1+n))/3);n++)t=t.substring(0,t.length-(4*n+3))+","+t.substring(t.length-(4*n+3));return(i?"":"-")+t+"."+e}changeUriByVariantId(t){var i=this.makeJsonByGet(),e=document.URL,n=e.indexOf("?"),o=e.substring(0,n),a=[];i.variant=t,Object.keys(i).forEach((function(t){""!==i[t]&&a.push(`${t}=${i[t]}`)})),history.replaceState(null,null,`${o}${a.length>0?"?":""}${a.join("&")}`)}htmlSpecialChars(t){return"string"==typeof(t=this.reHtmlSpecialChars(t))&&(t=(t=(t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")).replace(/'/g,"&#39;")),t}reHtmlSpecialChars(t){return"string"==typeof t&&(t=(t=(t=(t=(t=t.replace(/&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&quot;/g,'"')).replace(/&#39;/g,"'")),t}variantIsSelect(t,i){return t==i||this.htmlSpecialChars(t)==i}makeJsonByGet(){for(var t=this,i={},e={},n=window.location.href,o=(n=n.replace(/.*\?/,"")).split("&"),a=0;a<o.length;a++)i[o[a].split("=")[0]]="";return Object.keys(i).forEach((function(i){var n=t.getUrlParam(i);n&&(e[i]=n)})),e}getUrlParam(t){var i=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),e=window.location.search.substr(1).match(i);return null!=e?decodeURI(e[2]):null}getValue(t,i,e){return t.hasOwnProperty(i)?t[i]:e}dateFormat(){return Date.prototype.Format=function(t){var i={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var e in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t},this}initSpotlight(){var t,i,e=!1;ymqJq("#spotlight .drag").mousedown((function(n){t=n.pageX,i=n.pageY,e=!1})),ymqJq("#spotlight .drag").mouseup((function(n){(Math.abs(Number(t)-Number(n.pageX))>7||Math.abs(Number(i)-Number(n.pageY))>7)&&(e=!0)})),ymqJq(document).on("click","#spotlight .drag",(function(){e||(ymqJq(".preloader").removeClass("show"),ymqJq("#spotlight .icon.close").click())})),ymqJq(document).on("#spotlight .icon.close",(function(){ymqJq(".preloader").removeClass("show")}))}static getInstance(){return this.instance||(this.instance=new t),this.instance}},Validate=class t{constructor(){var t=this;t.instance=null,t.dom=null,t.config=Config.getInstance("validateInstance",t),t.upload=Upload.getInstance(),t.init()}initMemberVariables(){var t=this;t.selectDom=null,t.selectValueArray=[],t.selectValue="",t.domErrorArray=[],t.validateCount=0,t.validateOtherCount=0,t.validateArray=[],t.validateValue=[],t.form=ymqJq(t.config.form_box)}init(){this.initMemberVariables()}doOtherValidate(){var t=this;t.domErrorArray=[],t.validateArray.forEach((function(i){"required"==i&&(t.json.hasOwnProperty("isFile")?t.upload.fileData.hasOwnProperty(t.json.name)?ymqJq.isEmptyObject(t.upload.fileData[t.json.name])&&t.domErrorArray.push(t.config.ymq_option_branding.lan.require):t.domErrorArray.push(t.config.ymq_option_branding.lan.require):""==t.selectValue&&t.domErrorArray.push(t.config.ymq_option_branding.lan.require)),""!=t.selectValue&&(i.search("minchar:")>-1&&t.selectValue.length<i.split(":")[1]&&t.domErrorArray.push(t.config.ymq_option_branding.lan.min_char.replace("%s",i.split(":")[1])),i.search("maxchar:")>-1&&t.selectValue.length>i.split(":")[1]&&t.domErrorArray.push(t.config.ymq_option_branding.lan.max_char.replace("%s",i.split(":")[1])),i.search("min:")>-1&&Number(t.selectValue)<Number(i.split(":")[1])&&t.domErrorArray.push(t.config.ymq_option_branding.lan.min.replace("%s",i.split(":")[1])),i.search("max:")>-1&&Number(t.selectValue)>Number(i.split(":")[1])&&t.domErrorArray.push(t.config.ymq_option_branding.lan.max.replace("%s",i.split(":")[1])),"email"!=i||t.config.emailRe.test(t.selectValue)||t.domErrorArray.push(t.config.ymq_option_branding.lan.email),"integer"==i&&t.selectValue%1!=0&&t.domErrorArray.push(t.config.ymq_option_branding.lan.integer),"number"!=i||t.config.numberRe.test(t.selectValue)||t.domErrorArray.push(t.config.ymq_option_branding.lan.number),i.search("float:")>-1&&t.selectValue%1!=0&&t.selectValue.toString().split(".")[1].length>i.split(":")[1]&&t.domErrorArray.push(`${i.split(":")[1]}小数`))}))}doValidate(){var t=this,i=t.selectDom.parents(".ymq-options-box");t.domErrorArray=[];var e=0,n=99999,o=t.selectValueArray.length;if(t.json.hasOwnProperty("hasQty")&&t.json.hasQty){var a=0;t.selectValueArray.forEach((function(i){var e=i.split(t.config.qty_split);2==e.length?a+=1*e[1]:a+=1})),o=a}t.validateArray.forEach((function(t){t.search("min_s:")>-1&&(e=Number(t.split(":")[1])),t.search("max_s:")>-1&&(n=Number(t.split(":")[1]))})),0==e&&0==n||(e==n?(o>n-1?ymqJq(`#${i.prop("id")} input:checkbox:not([data-title]):not(:checked)`).prop("disabled",!0):ymqJq(`#${i.prop("id")} input:checkbox:not([data-title]):not(:checked)`).prop("disabled",!1),o!=e&&(t.config.ymq_option_branding.lan.hasOwnProperty("total_s")?t.domErrorArray.push(t.config.ymq_option_branding.lan.total_s.replace("%s",e)):t.domErrorArray.push("You need to choose "+e+"."))):(o<e&&(t.config.ymq_option_branding.lan.hasOwnProperty("min_s")?t.domErrorArray.push(t.config.ymq_option_branding.lan.min_s.replace("%s",e)):t.domErrorArray.push("You need to choose more than "+e+".")),o>n&&(t.config.ymq_option_branding.lan.hasOwnProperty("max_s")?t.domErrorArray.push(t.config.ymq_option_branding.lan.max_s.replace("%s",n)):t.domErrorArray.push("You need to choose less than "+n+".")),o>n-1?ymqJq(`#${i.prop("id")} input:checkbox:not([data-title]):not(:checked)`).prop("disabled",!0):ymqJq(`#${i.prop("id")} input:checkbox:not([data-title]):not(:checked)`).prop("disabled",!1))),t.validateArray.forEach((function(i){"required"==i&&(t.json.hasOwnProperty("isFile")?t.upload.fileData.hasOwnProperty(t.json.name)?ymqJq.isEmptyObject(t.upload.fileData[t.json.name])&&t.domErrorArray.push(t.config.ymq_option_branding.lan.require):t.domErrorArray.push(t.config.ymq_option_branding.lan.require):""==t.selectValue&&t.domErrorArray.push(t.config.ymq_option_branding.lan.require)),""!=t.selectValue&&(i.search("minchar:")>-1&&t.selectValue.length<i.split(":")[1]&&t.domErrorArray.push(t.config.ymq_option_branding.lan.min_char.replace("%s",i.split(":")[1])),i.search("maxchar:")>-1&&t.selectValue.length>i.split(":")[1]&&t.domErrorArray.push(t.config.ymq_option_branding.lan.max_char.replace("%s",i.split(":")[1])),i.search("min:")>-1&&Number(t.selectValue)<Number(i.split(":")[1])&&t.domErrorArray.push(t.config.ymq_option_branding.lan.min.replace("%s",i.split(":")[1])),i.search("max:")>-1&&Number(t.selectValue)>Number(i.split(":")[1])&&t.domErrorArray.push(t.config.ymq_option_branding.lan.max.replace("%s",i.split(":")[1])),"email"!=i||t.config.emailRe.test(t.selectValue)||t.domErrorArray.push(t.config.ymq_option_branding.lan.email),"integer"==i&&t.selectValue%1!=0&&t.domErrorArray.push(t.config.ymq_option_branding.lan.integer),"number"!=i||t.config.numberRe.test(t.selectValue)||t.domErrorArray.push(t.config.ymq_option_branding.lan.number),i.search("float:")>-1&&t.selectValue%1!=0&&t.selectValue.toString().split(".")[1].length>i.split(":")[1]&&t.domErrorArray.push(`${i.split(":")[1]}小数`))}))}validateOne(t,i=!1){var e=this;if(e.json=t,t&&t.validate)if(e.validateArray=t.validate.split("|"),e.selectDom=t.dom,e.selectValueArray=t.value,e.selectValue=t.value.join(","),t.hasOwnProperty("otherValidate")&&t.hasOwnProperty("nameStr"))e.doOtherValidate(),0==e.validateOtherCount&&e.domErrorArray.length&&(alert(`${t.nameStr} ${e.domErrorArray[0]}`),e.validateOtherCount++,e.validateCount++);else{e.doValidate();var n="";if(e.domErrorArray.length){e.domErrorArray.forEach((function(t){n+=`\n                                <div class="ymq-error-item">${t}</div>\n                            `}));var o=t.dom.parents(".ymq-options-box");if(0==e.validateCount&&i){if(o.offset().top+o.outerHeight()<ymqJq(window).scrollTop()){var a=o.offset().top-200;ymqJq("html, body").animate({scrollTop:a},500)}t.dom.focus()}e.validateCount++,t.dom.parents(".ymq-options-box").find("textarea,select,input[type='text']").addClass("ymq_error_border"),t.dom.parents(".ymq-options-box").find(".selectDropdown").find("span").addClass("ymq_error_border")}else t.dom.parents(".ymq-options-box").find("textarea,select,input[type='text']").removeClass("ymq_error_border"),t.dom.parents(".ymq-options-box").find(".selectDropdown").find("span").removeClass("ymq_error_border");t.dom.parents(".ymq-options-box").find(".ymq-error-box").html(n)}}validateAll(t,i=!1){var e=this;e.validateCount=0,e.validateOtherCount=0,Object.keys(t).forEach((function(n){e.validateOne(t[n],i)}))}validateOneWithOutPrompt(t){var i=this;return i.json=t,!!(t&&t.validate&&(i.validateArray=t.validate.split("|"),i.selectDom=t.dom,i.selectValueArray=t.value,i.selectValue=t.value.join(","),i.doValidate(),i.domErrorArray.length))}validateAllWithOutPrompt(t){var i=this,e=!1;try{Object.keys(t).forEach((function(n){if(i.validateOneWithOutPrompt(t[n]))throw e=!0,new Error("breakForEach")}))}catch(t){if("breakForEach"!=t.message)throw t}return e}require(){}testValidate(t){t?this.success():this.error()}success(){}error(){this.dom.addClass("ymq_error")}static getInstance(){return this.instance||(this.instance=new t),this.instance}},Variant=class t{constructor(){var t=this;t.instance=null,t.htmlBuilder=Html.getInstance(),t.config=Config.getInstance("variantInstance",t),t.addVariantIdInput().init()}initMemberVariables(){var t=this;t.variantJson={},t.variant_id=0,t.allVariantJson={},t.notAvailableVariantJson={},t.ymq_shopify_options_with_index_key={}}init(){this.initMemberVariables(),this.initVariantId().initNotAvailableVariantJson().initVariantJson()}initNotAvailableVariantJson(){var t=this;return t.config.product.variants.forEach((function(i){i.available||(t.notAvailableVariantJson[i.id]=i.options),t.allVariantJson[i.id]=i.options})),t}isSoldOut(){var t=this;if(1==Number(t.config.util.getValue(t.config.ymq_option_branding.extra,"variant-not-disabled",0)))return t;var i=[],e=[];return ymqJq(".ymq-shopify-option-box").each((function(t){"3"==ymqJq(this).data("type").toString()?(e.push(1),"multiple"==ymqJq(this).find("select").attr("multiple")?i.push(ymqJq(this).find("select").val().join(",").toString()):i.push(ymqJq(this).find("select").val().toString()),ymqJq(this).find("option").prop("disabled",!1)):(e.push(0),i.push(ymqJq(this).find("input:checked").val().toString()),ymqJq(this).find("input").prop("disabled",!1))})),i.forEach((function(n,o){var a=n,r=!1;t.ymq_shopify_options_with_index_key[o]&&t.ymq_shopify_options_with_index_key[o].forEach((function(n,m){n=t.config.util.reHtmlSpecialChars(n);var c=Object.assign([],i);if(n!=a&&(c[o]=n,Object.keys(t.notAvailableVariantJson).forEach((function(i){JSON.stringify(c)==JSON.stringify(t.notAvailableVariantJson[i])&&(1==e[o]?(ymqJq(`#ymq-attrib-ymq-variant-${o}`).find("option").eq(m).prop("disabled",!0),ymqJq(`#option-box-ymq-variant-${o} .ymq-multiple-ul li`).eq(m).data("title",t.config.ymq_option_branding.lan.sold_out)):ymqJq(`#ymq-attrib-ymq-variant-${o}-0`).parents(".ymq-shopify-option-box").find("input").eq(m).prop("disabled",!0).next().data("title",t.config.ymq_option_branding.lan.sold_out),r=!0)})),0==r)){var s=!1;try{Object.keys(t.allVariantJson).forEach((function(i){if(JSON.stringify(c)==JSON.stringify(t.allVariantJson[i]))throw s=!0,new Error("breakForEach")}))}catch(t){if("breakForEach"!=t.message)throw t}0==s&&(1==e[o]?(ymqJq(`#ymq-attrib-ymq-variant-${o}`).find("option").eq(m).prop("disabled",!0),ymqJq(`#option-box-ymq-variant-${o} .ymq-multiple-ul li`).eq(m).data("title",t.config.ymq_option_branding.lan.sold_out)):ymqJq(`#ymq-attrib-ymq-variant-${o}-0`).parents(".ymq-shopify-option-box").find("input").eq(m).prop("disabled",!0).next().data("title",t.config.ymq_option_branding.lan.sold_out))}}))})),ymqJq(".ymq-shopify-option-box select").each((function(i){t.htmlBuilder.initDropdown(ymqJq(`#ymq-attrib-ymq-variant-${i}`))})),t}initTypeVariantJson(t,i,e=null,n,o=null){var a=this,r={};return r.help=e?e.help:"",r.id=`ymq-variant-${i}`,r.label=t,r.options={},r.isShopify=!0,r.optionsIndex=i,r.required="",r.type=n,null!=o&&(r.style=o),r.tooltip=e?e.tooltip:"",r.tooltip_position=e?e.tooltip_position:"",r.alert_text=e&&e.hasOwnProperty("alert_text")?e.alert_text:"",r.hide_title=e&&e.hasOwnProperty("hide_title")?e.hide_title:0,r.class=e&&e.hasOwnProperty("class")?e.class:"",r.a_t1=e&&e.hasOwnProperty("a_t1")?e.a_t1:"",r.a_t2=e&&e.hasOwnProperty("a_t2")?e.a_t2:"",r.a_width=e&&e.hasOwnProperty("a_width")?e.a_width:"",a.config.ymq_shopify_options[t].forEach((function(t,e){r.options[`${r.id}-${e}`]={id:`${r.id}-${e}`,one_time:0,price:0,price_type:"1",sku:"",value:t},window.ymqAdmin?0==Number(e)?r.options[`${r.id}-${e}`].default=1:r.options[`${r.id}-${e}`].default="":a.config.util.variantIsSelect(a.config.variantData[a.variant_id].options[i],t)?r.options[`${r.id}-${e}`].default=1:r.options[`${r.id}-${e}`].default=""})),r}initDrodownVariantJson(t,i,e=null){return this.initTypeVariantJson(t,i,e,"3")}initRadioVariantJson(t,i,e=null){return this.initTypeVariantJson(t,i,e,"4",1)}initButtonVariantJson(t,i,e=null){return this.initTypeVariantJson(t,i,e,"15",2)}initCanvasVariantJson(t,i,e){var n=this,o={};return o.help=e.help,o.id=`ymq-variant-${i}`,o.label=t,o.options={},o.isShopify=!0,o.optionsIndex=i,o.style=1,o.required="",o.tooltip=e.tooltip,o.tooltip_position=e.tooltip_position,o.style=e.style,o.width=e.width,o.height=e.height,o.b_radius=e.b_radius,o.zoom=e.zoom,o.type="5",o.alert_text=e.hasOwnProperty("alert_text")?e.alert_text:"",o.a_t1=e.hasOwnProperty("a_t1")?e.a_t1:"",o.a_t2=e.hasOwnProperty("a_t2")?e.a_t2:"",o.a_width=e.hasOwnProperty("a_width")?e.a_width:"",n.config.ymq_shopify_options[t].forEach((function(t,a){o.options[`${o.id}-${a}`]={id:`${o.id}-${a}`,one_time:0,price:0,price_type:"1",sku:"",canvas1:e.values[a].canvas1,canvas2:e.values[a].canvas2,canvas_type:e.values[a].canvas_type,value:t},n.config.util.variantIsSelect(n.config.variantData[n.variant_id].options[i],t)?o.options[`${o.id}-${a}`].default=1:o.options[`${o.id}-${a}`].default=""})),o}initVariantJson(){var t=this;return t.config.ymq_has_only_default_variant||Object.keys(t.config.ymq_shopify_options).forEach((function(i,e){t.ymq_shopify_options_with_index_key[e]=t.config.ymq_shopify_options[i];var n="",o={};if(t.config.ymq_variantjson.hasOwnProperty(e)){var a=t.config.ymq_variantjson[e];n=a.type.toString()}else n=t.config.util.getValue(t.config.ymq_option_branding.extra,"init-variant-type",1).toString();switch(n){default:o=t.initDrodownVariantJson(i,e,a);break;case"2":o=t.initRadioVariantJson(i,e,a);break;case"3":o=t.initButtonVariantJson(i,e,a);break;case"4":o=t.initCanvasVariantJson(i,e,a)}t.variantJson[o.id]=o})),t}buildVariantHtml(){var t=this;return t.config.ymq_has_only_default_variant||t.htmlBuilder.setJson(t.variantJson).buildtHtml(),t}initVariantId(){var t=this;if(t.variant_id=Number(t.config.util.getUrlParam("variant")),t.variant_id&&t.config.variantData.hasOwnProperty(t.variant_id)||(t.variant_id=Number(t.config.product.variants[0].id)),t.changeVariantId(),!t.config.variantData[t.variant_id].available)try{Object.keys(t.config.variantData).forEach((function(i){if(t.config.variantData[i].available)throw t.variant_id=Number(i),t.changeVariantId(),t.config.util.changeUriByVariantId(t.variant_id),new Error("LoopTerminates")}))}catch(t){if("LoopTerminates"!==t.message)throw t}return t}changeUriByVariantId(){var t=this,i=[],e={},n=[];t.config.hideByNow&&ymqJq(".shopify-payment-button").hide().remove(),ymqJq(".ymq-shopify-option-box").each((function(){var t=ymqJq(this).find(".ymq_lable").text();"3"==ymqJq(this).data("type").toString()?ymqJq(this).find(".ymq-shopify-option").each((function(){i.push(ymqJq(this).val().toString()),e[t]=ymqJq(this).val().toString(),n.push(ymqJq(this).val().toString())})):ymqJq(this).find(".ymq-shopify-option:checked").each((function(){i.push(ymqJq(this).val().toString()),e[t]=ymqJq(this).val().toString(),n.push(ymqJq(this).val().toString())}))}));var o=t.config.util.getValue(t.config.ymq_option_branding.extra,"trigger-select",""),a=t.config.util.getValue(t.config.ymq_option_branding.extra,"trigger-select-join","");return""!=o&&(ymqJq(o).val(n.join(a)).trigger("change"),t.config.util.jstrigger(ymqJq(o).get(0),"change")),Object.keys(e).forEach((function(i,n){var o=e[i];if(t.config.shopifySelectDom[i]&&"select"==t.config.shopifySelectDom[i].type){t.config.shopifySelectDom[i].jq.find("option").each((function(){ymqJq(this).val()==o?ymqJq(this).prop("selected",!0).trigger("click"):ymqJq(this).prop("selected",!1)})),t.config.shopifySelectDom[i].jq.val(o).trigger("change");var a=document.getElementById(t.config.shopifySelectDom[i].id);t.config.util.jstrigger(a,"change")}t.config.shopifySelectDom[i]&&"radio"==t.config.shopifySelectDom[i].type&&t.config.shopifySelectDom[i].jq.each((function(e){if(ymqJq(this).val()==o){ymqJq(this).prop("checked",!0).trigger("click");var n=document.getElementsByName(t.config.shopifySelectDom[i].name)[e];t.config.shopifySelectDom[i].jq.trigger("change"),t.config.util.jstrigger(n,"change")}else ymqJq(this).prop("checked",!1)}))})),t.config.product.variants.forEach((function(e){JSON.stringify(e.options)==JSON.stringify(i)&&(t.variant_id=Number(e.id),t.changeVariantId())})),t.config.util.changeUriByVariantId(t.variant_id),t}addVariantIdInput(){var t=this;if(!ymqJq(`#${t.config.ymq_variant_id}`).length){var i=`\n                    <input id="${t.config.ymq_variant_id}" type="hidden" value="">\n                `;t.config.form_box_dom.append(i)}return t}changeVariantId(){var t=this;t.config.iddom.val(t.variant_id),ymqJq(`#${t.config.ymq_variant_id}`).val(t.variant_id)}static getInstance(){return this.instance||(this.instance=new t),this.instance}};return{Product:Product,Cart:Cart}}));